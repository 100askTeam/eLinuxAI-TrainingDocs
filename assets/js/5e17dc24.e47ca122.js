"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7272],{96302:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>h,frontMatter:()=>c,metadata:()=>d,toc:()=>t});var r=s(85893),l=s(11151);const c={sidebar_position:12},i="K230 \u5f02\u6838\u901a\u4fe1 Demo\u4f7f\u7528\u6307\u5357",d={id:"CanaanK230/part3/K230HeteronuclearCommunication",title:"K230 \u5f02\u6838\u901a\u4fe1 Demo\u4f7f\u7528\u6307\u5357",description:"Demo \u4e3b\u8981\u5b9e\u73b0 K230 \u5f02\u6784\u6838\u95f4\u901a\u8baf\uff0c\u5305\u542b IPCMSG , DataFIFO \u4e24\u79cd\u65b9\u5f0f\uff0c\u5176\u4e2d IPCMSG \u4e3b\u8981\u7528\u4e8e\u53d1\u9001\u63a7\u5236\u7c7b\u6d88\u606f\uff1bDataFIFO \u4e3b\u8981\u5e94\u7528\u4e8e\u5927\u91cf\u6570\u636e\u4ea4\u4e92\uff08\u4f8b\u5982\u7f16\u7801\u6570\u636e\uff09\u901a\u4fe1\u3002",source:"@site/docs/CanaanK230/part3/12_K230HeteronuclearCommunication.md",sourceDirName:"CanaanK230/part3",slug:"/CanaanK230/part3/K230HeteronuclearCommunication",permalink:"/CanaanK230/part3/K230HeteronuclearCommunication",draft:!1,unlisted:!1,editUrl:"https://github.com/100askTeam/eLinuxAI-TrainingDocs/tree/main/docs/CanaanK230/part3/12_K230HeteronuclearCommunication.md",tags:[],version:"current",sidebarPosition:12,frontMatter:{sidebar_position:12},sidebar:"canaanK230Sidebar",previous:{title:"K230 Fancy POC\u4ecb\u7ecd",permalink:"/CanaanK230/part3/K230FancyPOCintroduce"},next:{title:"K230 GPU \u5e94\u7528\u5b9e\u6218 - VGLite \u7ed8\u5236\u9177\u70ab\u56fe\u5f62",permalink:"/CanaanK230/part3/K230GPUPracticalapplication-VGLitedrawscoolgraphics"}},a={},t=[{value:"1. IPCMSG Demo",id:"1-ipcmsg-demo",level:2},{value:"2.DataFIFO Demo",id:"2datafifo-demo",level:2},{value:"3.MAPI Demo",id:"3mapi-demo",level:2},{value:"3.1 MAPI \u89c6\u9891\u7f16\u7801",id:"31-mapi-\u89c6\u9891\u7f16\u7801",level:3},{value:"3.2 MAPI \u89c6\u9891\u89e3\u7801",id:"32-mapi-\u89c6\u9891\u89e3\u7801",level:3}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"k230-\u5f02\u6838\u901a\u4fe1-demo\u4f7f\u7528\u6307\u5357",children:"K230 \u5f02\u6838\u901a\u4fe1 Demo\u4f7f\u7528\u6307\u5357"}),"\n",(0,r.jsx)(n.p,{children:"Demo \u4e3b\u8981\u5b9e\u73b0 K230 \u5f02\u6784\u6838\u95f4\u901a\u8baf\uff0c\u5305\u542b IPCMSG , DataFIFO \u4e24\u79cd\u65b9\u5f0f\uff0c\u5176\u4e2d IPCMSG \u4e3b\u8981\u7528\u4e8e\u53d1\u9001\u63a7\u5236\u7c7b\u6d88\u606f\uff1bDataFIFO \u4e3b\u8981\u5e94\u7528\u4e8e\u5927\u91cf\u6570\u636e\u4ea4\u4e92\uff08\u4f8b\u5982\u7f16\u7801\u6570\u636e\uff09\u901a\u4fe1\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"1-ipcmsg-demo",children:"1. IPCMSG Demo"}),"\n",(0,r.jsx)(n.p,{children:"IPCMSG \u662f K230 \u5927\u5c0f\u6838\u5728\u7528\u6237\u6001\u8fdb\u884c\u901a\u8baf\u7684\u7ec4\u4ef6\uff0c\u4e3b\u8981\u7528\u4e8e\u53d1\u9001\u63a7\u5236\u7c7b\u6d88\u606f\u3002\u8be5\u6a21\u5757\u5305\u62ec\u670d\u52a1\u6dfb\u52a0\u5220\u9664\uff0c\u6d88\u606f\u521b\u5efa\u5220\u9664\uff0c\u65ad\u5f00\u8fde\u63a5\uff0c\u53d1\u9001\u6d88\u606f\u7b49\u529f\u80fd\u3002\u652f\u6301\u4e09\u79cd\u6d88\u606f\u53d1\u9001\u65b9\u5f0f\uff0c\u53d1\u9001\u5f02\u6b65\u6d88\u606f\uff0c\u53d1\u9001\u540c\u6b65\u6d88\u606f\uff0c\u4ee5\u53ca\u53d1\u9001\u4e0d\u9700\u8981\u5bf9\u65b9\u56de\u590d\u7684\u6d88\u606f\u3002\u5176\u4e2d\u540c\u6b65\u6d88\u606f\u652f\u6301\u8d85\u65f6\u673a\u5236\uff0c\u7528\u6237\u8c03\u7528 API \u65f6\u53ef\u81ea\u5b9a\u4e49\u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4\u3002\u9700\u8981\u5f97\u5230\u56de\u590d\u7684\u6d88\u606f\uff0c\u5728\u53d1\u51fa 60 \u79d2\u4e4b\u540e\u624d\u6536\u5230\u56de\u590d\u6d88\u606f\u7684\u8bdd\uff0c\u8be5\u56de\u590d\u6d88\u606f\u4f1a\u88ab\u4e22\u5f03\u3002\u672c Demo \u4e3b\u8981\u5c55\u73b0\u5c0f\u6838\u53d1\u9001\u4e09\u79cd\u6d88\u606f\u7ed9\u5927\u6838\uff0c\u5927\u6838\u63a5\u6536\u5230\u6d88\u606f\u540e\uff0c\u6839\u636e\u6d88\u606f\u7c7b\u578b\u8fdb\u884c\u5904\u7406\u548c\u8fd4\u56de\u7ed3\u679c\uff0cDemo\u4ee3\u7801\u4e3b\u8981\u5b9e\u73b0\uff1a"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u5927\u5c0f\u6838\u5efa\u7acb\u901a\u8baf ,\u5373\u5efa\u7acb 2 \u4e2a IPCMSG \u901a\u8baf\u670d\u52a1 Test1 \u548c Test2\uff08log \u4e2d\u5bf9\u5e94 id \u53f73 \u548c 4\uff09\uff0c\u6bcf\u4e00\u4e2a IPCMSG \u670d\u52a1\u5bf9\u5e94\u4e00\u4e2a\u63a5\u6536\u7ebf\u7a0b"}),"\n",(0,r.jsx)(n.li,{children:"\u5c0f\u6838\u521b\u5efa 2 \u4e2a\u7ebf\u7a0b\u5206\u522b\u4f7f\u7528\u4e0d\u540c\u901a\u4fe1\u670d\u52a1\u6765\u53d1\u9001\u540c\u6b65/\u5f02\u6b65\u6d88\u606f\uff0c\u5176\u4e2d\u5f02\u6b65\u4fe1\u606f\u5206\u522b\u4e3a\u4ec5\u53d1\u9001\u6d88\u606f\u4e0d\u8bbe\u7f6e\u56de\u8c03\u51fd\u6570\uff0c\u548c\u53d1\u9001\u6d88\u606f\u5e76\u8bbe\u6709\u56de\u8c03\u51fd\u6570"}),"\n",(0,r.jsx)(n.li,{children:"\u5927\u6838\u63a5\u6536\u5230\u4fe1\u606f\u4e4b\u540e\uff0c\u4f1a\u6839\u636e\u6d88\u606f\u7c7b\u578b\u8fdb\u884c\u5904\u7406\u56de\u590d"}),"\n",(0,r.jsx)(n.li,{children:"\u5c0f\u6838\u6536\u5230\u56de\u590d\u6d88\u606f\u540e\uff0c\u5524\u9192\u7ebf\u7a0b\u6253\u5370\u63a5\u6536\u5230\u56de\u590d\u6d88\u606f"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u64cd\u4f5c\u6b65\u9aa4\u5982\u4e0b\uff1a"}),"\n",(0,r.jsxs)(n.p,{children:["1\u3001\u5927\u6838\u6267\u884c\uff1a",(0,r.jsx)(n.code,{children:"/sharefs/app/sample_receiver.elf"})]}),"\n",(0,r.jsxs)(n.p,{children:["2\u3001\u5c0f\u6838\u8fdb\u5165 /mnt\uff0c\u7136\u540e\u6267\u884c\uff1a",(0,r.jsx)(n.code,{children:"./sample_sender"})]}),"\n",(0,r.jsx)(n.p,{children:"3\u3001\u53ef\u6309\u201cq\u201d\u952e \u3001\u56de\u8f66\u952e\u9000\u51fa Demo"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5c0f\u6838 log\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"[root@canaan /mnt ]#./sample_sender\n-----Connect: 1\n-----Connect: 0\nRun...\nid:3 send sync: module:1 cmd:03000001 time use:10.895ms\nreceive sync resp: modle:1, cmd:03000001, have done., return:0\nsendasync modle:2 cmd:03000001\nreceive async resp: modle:2, cmd:03000001, have done., return:0\nsendonly modle:2 cmd:03000001\nRun...\nid:3 send sync: module:1 cmd:03000002 time use:4.120ms\nreceive sync resp: modle:1, cmd:03000002, have done., return:0\nsendasync modle:2 cmd:03000002\nid:4 send sync: module:1 cmd:04000003 time use:0.301ms\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5927\u6838 log\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"receive sync resp: modle:1, cmd:04000003, done., return:0\nreceive async resp: modle:2, cmd:03000002, have done., return:0\nsendonly modle:2 cmd:03000002\nsendasync modle:2 cmd:04000003\nreceive async resp: modle:2, cmd:04000003, done., return:0\nsendonly modle:2 cmd:04000003\nid:3 send sync: module:1 cmd:03000004 time use:3.857ms\nreceive sync resp: modle:1, cmd:03000004, have done., return:0\nsendasync modle:2 cmd:03000004\nreceive async resp: modle:2, cmd:03000004, have done., return:0\nid:4 send sync: module:1 cmd:04000005 time use:1.111ms\nreceive sync resp: modle:1, cmd:04000005, done., return:0\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5bf9\u5e94\u7684\u5927\u6838 log\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"msh /sharefs/app>sample_receiver.elf\nmsh /sharefs/app>\nPress q to quit\nstart receive msg from 3\nstart receive msg from 4\nreceive msg from 3: sync 0, len: 16\nreceive msg from 3: async 0, len: 16\nreceive msg from 3: only 0, len: 16\nreceive msg from 3: sync 1, len: 16\nreceive msg from 4: sync 2, len: 16\nreceive msg from 3: async 1, len: 16\nreceive msg from 4: async 2, len: 16\nreceive msg from 3: only 1, len: 16\nreceive msg from 3: sync 3, len: 16\nreceive msg from 4: only 2, len: 16\nreceive msg from 3: async 3, len: 16\nreceive msg from 4: sync 4, len: 16\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"2datafifo-demo",children:"2.DataFIFO Demo"}),"\n",(0,r.jsx)(n.p,{children:"DataFIFO \u662f K230 \u5927\u5c0f\u6838\u5728\u7528\u6237\u6001\u8fdb\u884c\u5927\u91cf\u6570\u636e\u4ea4\u4e92\uff08\u4f8b\u5982\u7f16\u7801\u6570\u636e\uff09\u65f6\uff0c\u4f7f\u7528\u7684\u6838\u95f4\u901a\u8baf\u7ec4\u4ef6\u3002\u5185\u90e8\u4e3b\u8981\u4f7f\u7528\u5171\u4eab\u5185\u5b58\u6765\u5b8c\u6210\u6570\u636e\u7684\u4ea4\u4e92\uff0c\u6570\u636e\u4f20\u9012\u7684\u662f\u6307\u9488\uff0c\u4e0d\u4f1a\u62f7\u8d1d\u6570\u636e\u7684\u5185\u5bb9\uff0c\u6570\u636e\u7684\u6536\u53d1\u901a\u77e5\u4f9d\u9760\u7ebf\u7a0b\u8f6e\u8be2\u6765\u5b9e\u73b0\uff0c\u672c Demo \u4e3b\u8981\u5b9e\u73b0\uff1a"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u5927\u5c0f\u6838\u5206\u522b\u5efa\u7acb 2 \u4e2a DataFIFO\uff0c1 \u8def\u8bfb\u901a\u9053\uff0c1 \u8def\u5199\u901a\u9053\uff0c\u5e76\u5efa\u7acb\u8fde\u63a5"}),"\n",(0,r.jsx)(n.li,{children:'\u5927\u6838\u5f80 DataFIFO buf \u6309\u5982\u4e0b\u4ee3\u7801\u89c4\u5219\u5199\u6570\u636e\uff0c\u5176\u4e2d g_s32Index \u968f\u7740\u6bcf\u6b21\u5faa\u73af+1\uff0c\u5c0f\u6838\u53bb\u8bfb\u53d6 snprintf(buf, BLOCK_LEN, "%d", g_s32Index)'}),"\n",(0,r.jsx)(n.li,{children:'\u5c0f\u6838\u5f80\u53d1\u9001 DataFIFO buf \u6309\u5982\u4e0b\u4ee3\u7801\u89c4\u5219\u5199\u6570\u636e\uff0c\u5176\u4e2d g_s32Index \u968f\u7740\u6bcf\u6b21\u5faa\u73af+1\uff0c\u5927\u6838\u8bfb\u53d6 snprintf(buf, BLOCK_LEN, "%d", g_s32Index)'}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u64cd\u4f5c\u6b65\u9aa4\u5982\u4e0b\uff1a"}),"\n",(0,r.jsxs)(n.p,{children:["1\u3001\u5927\u6838\u6267\u884c\uff1a",(0,r.jsx)(n.code,{children:"/sharefs/app/sample_writer.elf"}),"\uff0c\u6b64\u65f6 log \u4f1a\u6253\u5370 2 \u4e2a\u7269\u7406\u5730\u5740"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"msh />/sharefs/app/sample_writer.elf\nPhyAddr: 10000000\nPhyAddr: 10003000\ndatafifo_init finish\npress any key to start. \n"})}),"\n",(0,r.jsxs)(n.p,{children:["2\u3001\u5c0f\u6838\u8fdb\u5165/mnt\uff0c\u7136\u540e\u6267\u884c\uff1a",(0,r.jsx)(n.code,{children:"./sample_reader 0x10000000 0x10003000"}),"\uff0c0x10000000 \u662f\u8bfb\u5730\u5740\uff0c 0x10003000 \u662f\u5199\u5730\u5740\uff0c\u5730\u5740\u4e0e\u5927\u6838 log \u7684\u7269\u7406\u5730\u5740\u4e00\u81f4"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"[root@canaan /mnt ]#./sample_reader 0x10000000 0x10003000\ndatafifo_init finish\npress any key to start. \n"})}),"\n",(0,r.jsx)(n.p,{children:"3\u3001\u6b64\u65f6\u5927\u6838\u548c\u5c0f\u6838\u4e32\u53e3\u4e2d\u65ad\u6309\u63d0\u793a\u8f93\u5165\u4efb\u4f55\u6309\u952e\uff0c\u5f00\u542f DataFIFO \u6570\u636e\u4f20\u8f93"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5c0f\u6838 log\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"receive:********0********\nreceive:********1********\nreceive:********2********\nInput q to exit:\nsend: ========0========\nsend: ========1========\nreceive:********3********\nrelease 0x3fcf7070e0\nrelease 0x3fcf7074e0\nsend: ========2========\nreceive:********4********\nreceive:********5********\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5927\u6838 log\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"send: ********0********\nInput q to exit:\nsend: ********1********\nsend: ********2********\nrelease 0x1000000e0\nrelease 0x1000004e0\nrelease 0x1000008e0\nsend: ********3********\nreceive:========0========\nreceive:========1========\nrelease 0x100000ce0\nsend: ********4********\nsend: ********5********\nreceive:========2========\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"3\u3001\u53ef\u6309\u201cq\u201d\u952e\u56de\u8f66\u540e\uff0c\u518d\u6309\u4efb\u610f\u6309\u952e\u91ca\u653e\u8d44\u6e90\uff0c\u5e76\u9000\u51fa Demo \u6267\u884c\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"3mapi-demo",children:"3.MAPI Demo"}),"\n",(0,r.jsxs)(n.p,{children:["MAPI\uff08Media Application Programming Interface\uff09 \u662f\u5bf9 MPI(Media Process Platform Programming Interface) \u63a5\u53e3\u548c\u529f\u80fd\u6a21\u5757\u505a\u4e86\u63d0\u70bc\u548c\u62bd\u8c61\uff0c\u7b80\u5316\u7e41\u7410\u7684\u591a\u5a92\u4f53\u5904\u7406\u5e73\u53f0\u5e93\u8c03\u7528\u6d41\u7a0b\uff0c\u652f\u6301\u5e94\u7528\u8f6f\u4ef6\u5feb\u901f\u5f00\u53d1\u8f93\u5165\u97f3\u89c6\u9891\u6355\u83b7\u3001H264/H265/JPEG/ \u97f3\u9891\u7f16\u7801\uff0c\u97f3\u89c6\u9891\u89e3\u7801\u8f93\u51fa\u7b49\u591a\u5a92\u4f53\u529f\u80fd\u3002\u540c\u65f6 MAPI \u652f\u6301\u8de8 OS \u8c03\u7528\uff0c\u5373 K230 \u7684\u5927\u5c0f\u6838\u4e0a\u5747\u53ef\u8c03\u7528\u76f8\u540c\u7684 API \u6765\u5b9e\u73b0\u9700\u8981\u7684\u5e94\u7528\u573a\u666f\uff08MAPI \u5b9e\u73b0\u7684\u529f\u80fd\u53ef\u67e5\u770b GitHub \u63a5\u53e3\u6587\u6863 \uff1a",(0,r.jsx)(n.a,{href:"https://github.com/kendryte/k230_docs/blob/main/zh/01_software/board/cdk/K230_%E7%B3%BB%E7%BB%9F%E6%8E%A7%E5%88%B6_MAPI%E5%8F%82%E8%80%83.md",children:"K230 SDK_Docs_MAPI"})," \uff09\u3002\u4ee5\u4e0b Demo \u5c55\u793a\u4e86 MAPI \u7684\u4f7f\u7528\u65b9\u5f0f\uff0c\u5176\u4e2d\u5927\u6838\u4f5c\u4e3a\u670d\u52a1\u7aef\u901a\u8fc7 MPP \u64cd\u4f5c\u786c\u4ef6\u8bbe\u5907\uff0c\u5c0f\u6838\u4f5c\u4e3a\u8bbe\u5907\u7aef\u5411\u5927\u6838\u53d1\u9001\u64cd\u4f5c\u8bf7\u6c42\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"31-mapi-\u89c6\u9891\u7f16\u7801",children:"3.1 MAPI \u89c6\u9891\u7f16\u7801"}),"\n",(0,r.jsx)(n.p,{children:"sample_venc Demo \u5c0f\u6838\u901a\u8fc7\u8c03\u7528 MAPI \u7f16\u7801\u63a5\u53e3\uff0c\u5c06\u5927\u6838 Camera \u91c7\u96c6\u7684\u56fe\u50cf\u8fdb\u884c\u7f16\u7801\uff0c\u5e76\u4fdd\u5b58\u6210\u6587\u4ef6\u3002Demo \u6700\u5927\u652f\u6301 3 \u901a\u9053\u8f93\u51fa\uff0c\u652f\u6301 H264\u3001H265\uff0cJPGE \u7f16\u7801\uff0c\u4f46\u6682\u4e0d\u652f\u6301\u540c\u65f6 3 \u901a\u9053\u7f16\u7801\u4e0d\u540c\u7684\u683c\u5f0f\uff0c\u5176\u4e3b\u8981\u53c2\u6570\u8bf4\u660e\uff1a"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"\u53c2\u6570\u8bf4\u660e"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"\u53ef\u9009\u53c2\u6570\u503c"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"\u53c2\u6570\u8bf4\u660e"})})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-s"}),(0,r.jsx)(n.td,{children:"3"}),(0,r.jsx)(n.td,{children:"sensor \u578b\u53f7\uff0c\u9ed8\u8ba4\u4f7f\u7528 3"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-n"}),(0,r.jsx)(n.td,{children:"1\uff0c2\uff0c3"}),(0,r.jsx)(n.td,{children:"\u8f93\u51fa\u901a\u9053\u6570\uff0c\u6bd4\u5982\u8bbe\u7f6e\u4e3a 3\uff0c\u5219 3 \u4e2a\u901a\u9053\u540c\u65f6\u7f16\u7801\u8f93\u51fa"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-t"}),(0,r.jsx)(n.td,{children:"0\uff0c1\uff0c2"}),(0,r.jsx)(n.td,{children:"0\uff1ah264 type\uff0c1\uff1ah265 type\uff0c2\uff1ajpeg type"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-o"}),(0,r.jsx)(n.td,{children:"NA"}),(0,r.jsx)(n.td,{children:"\u6307\u5b9a\u7f16\u7801\u751f\u6210\u7684\u6587\u4ef6\u76ee\u5f55\uff0c\u7136\u540e\u6839\u636e\u4e0d\u540c\u7684\u7f16\u7801\u7c7b\u578b\uff0c\u4f1a\u5728\u5c0f\u6838\u6307\u5b9a\u7684\u8f93\u51fa\u76ee\u5f55\u4e0b \u751f\u6210\u4e0d\u540c\u7684\u7801\u6d41\u6587\u4ef6\uff0c\u5bf9\u4e8eh264\u7c7b\u578b\uff0c\u4f1a\u751f\u6210\u5f62\u5982 stream_chn0.264 \u6587\u4ef6\uff0c\u5176\u4e2d 0 \u4ee3\u8868 0 \u901a\u9053\uff1b\u5bf9\u4e8eh265\u7c7b\u578b\uff0c\u4f1a\u751f\u6210\u5f62\u5982 stream_chn0.265 \u6587\u4ef6\uff0c\u540c\u6837 0 \u4ee3\u88680 \u901a\u9053\uff1b\u5bf9\u4e8e jpeg \u7c7b\u578b\uff0c\u4f1a\u751f\u6210\u5f62\u5982 chn0_0.jpg \u7684 jpg \u56fe\u7247\uff0c\u4ee3\u8868 0 \u901a\u9053\u7b2c 0 \u5f20\u56fe\u7247\uff0c \u9ed8\u8ba4\u4f1a\u751f\u6210 10 \u5f20 jpg \u56fe\u7247"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"\u64cd\u4f5c\u6b65\u9aa4\u5982\u4e0b\uff1a"}),"\n",(0,r.jsxs)(n.p,{children:["1\u3001\u5728\u5927\u6838\u4fa7\u542f\u52a8\u6838\u95f4\u901a\u4fe1\u8fdb\u7a0b\uff0c\u8fdb\u5165 /sharefs/app\uff0c\u6267\u884c ",(0,r.jsx)(n.code,{children:"./sample_sys_init.elf"})]}),"\n",(0,r.jsxs)(n.p,{children:["2\u3001\u5728\u5c0f\u6838\u4fa7 /mnt \u76ee\u5f55\u4e0b\uff0c\u6267\u884c ",(0,r.jsx)(n.code,{children:"./sample_venc -s 3 -n 3 -t 0 -o /sharefs"}),"\uff0c3 \u901a\u9053\u540c\u65f6\u8fdb\u884c H264 \u7f16\u7801\uff0c\u4e14\u5728 /sharefs\u4e0b\u751f\u6210\u4e0d\u540c\u5206\u8fa8\u7387\u7684\u7f16\u7801\u6587\u4ef6\uff1a"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u4e00\u8def\uff1a\u5206\u8fa8\u7387 1280*720\uff0c\u751f\u6210\u6587\u4ef6\uff1a/sharefs/stream_chn0.264"}),"\n",(0,r.jsx)(n.li,{children:"\u4e8c\u8def\uff1a\u5206\u8fa8\u7387 960*640\uff0c\u751f\u6210\u6587\u4ef6\uff1a/sharefs/stream_chn1.264"}),"\n",(0,r.jsx)(n.li,{children:"\u4e09\u8def\uff1a\u5206\u8fa8\u7387 640*480\uff0c\u751f\u6210\u6587\u4ef6\uff1a/sharefs/stream_chn2.264"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"3\u3001\u6267\u884c\u4e00\u6bb5\u65f6\u95f4\u540e\u6309\u3010ctrl+c\u3011\u9000\u51fa Demo \u6267\u884c"}),"\n",(0,r.jsxs)(n.p,{children:["4\u3001\u5c06\u751f\u6210\u7684\u7f16\u7801\u6587\u4ef6\u901a\u8fc7 ",(0,r.jsx)(n.code,{children:"scp"})," \u547d\u4ee4\u62f7\u8d1d\u5230\u4e0a\u4f4d\u673a\uff0c\u518d\u4e0b\u8f7d\u5230\u672c\u5730 PC \u64ad\u653e\uff0c\u4f8b\u5982\u4f7f\u7528 ffplay \u5de5\u5177\u8fdb\u884c\u64ad\u653e"]}),"\n",(0,r.jsx)(n.h3,{id:"32-mapi-\u89c6\u9891\u89e3\u7801",children:"3.2 MAPI \u89c6\u9891\u89e3\u7801"}),"\n",(0,r.jsx)(n.p,{children:"MAPI \u89c6\u9891\u89e3\u7801"}),"\n",(0,r.jsx)(n.p,{children:"Demo \u4e3b\u8981\u5c55\u793a\u5c06\u5c0f\u6838\u7684\u7f16\u7801\u6587\u4ef6\u901a\u8fc7 MAPI \u63a5\u53e3\u7ed9\u5927\u6838\u89e3\u7801\u5e76\u901a\u8fc7 LCD \u5c4f\u5e55\u663e\u793a\uff0c\u5176\u64cd\u4f5c\u6b65\u9aa4\uff1a"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5728\u5927\u6838\u4fa7\u542f\u52a8\u6838\u95f4\u901a\u4fe1\u8fdb\u7a0b\uff0c\u8fdb\u5165 /sharefs/app\uff0c\u6267\u884c ",(0,r.jsx)(n.code,{children:"./sample_sys_init.elf"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u5728\u5c0f\u6838\u4fa7 /mnt \u76ee\u5f55\u4e0b\uff0c\u6267\u884c ",(0,r.jsx)(n.code,{children:"./sample_vdec -i /sharefs/test_resource/canaan.264"}),"\uff0c\u5c06\u7f16\u7801\u6587\u4ef6\u901a\u8fc7 MAPI \u4f20\u9012\u7ed9\u5927\u6838\u89e3\u7801\u5e76\u64ad\u653e"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"MAPI \u97f3\u9891\u7f16\u7801"}),"\n",(0,r.jsx)(n.p,{children:"Demo \u4e3b\u8981\u5c55\u793a\u5c0f\u6838\u901a\u8fc7\u8c03\u7528 MAPI \u63a5\u53e3\uff0c\u5c06\u5927\u6838\u91c7\u96c6\u97f3\u9891\u6570\u636e\u5e76\u8fdb\u884c\u7f16\u7801\uff0c\u5e76\u4fdd\u5b58\u6210\u6587\u4ef6\u3002\u5176\u64cd\u4f5c\u6b65\u9aa4\u5982\u4e0b\uff1a"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\u4e0a\u4f4d\u673a\u6267\u884c\u64ad\u653e\u97f3\u9891\u64cd\u4f5c\uff0c\u9ed8\u8ba4\u97f3\u9891\u6587\u4ef6\u662f /home/user/hellocannan.wav\uff0c\u4e5f\u53ef\u4ee5\u3010\u6587\u4ef6\u4e0a\u4f20\u3011\u6309\u94ae\u624b\u52a8\u4e0a\u4f20\u97f3\u9891\u6587\u4ef6\uff0c\u6267\u884c\u64ad\u653e\u97f3\u9891\u547d\u4ee4\uff1a",(0,r.jsx)(n.code,{children:"audio_aplay /home/user/hellocannan.wav"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u5728\u5927\u6838\u4fa7\u542f\u52a8\u6838\u95f4\u901a\u4fe1\u8fdb\u7a0b\uff0c\u8fdb\u5165 /sharefs/app\uff0c\u6267\u884c ",(0,r.jsx)(n.code,{children:"./sample_sys_init.elf"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u5728\u5c0f\u6838\u4fa7 /mnt \u76ee\u5f55\u4e0b\uff0c\u6267\u884c ",(0,r.jsx)(n.code,{children:"./sample_audio -type 0 -filename /sharefs/test.g711a"}),"\uff08\u91c7\u6837\u738744100\uff0c16bit\uff09\u8fdb\u884c\u91c7\u96c6\u7f16\u7801"]}),"\n",(0,r.jsx)(n.li,{children:"\u6309\u952e\u76d8\u201cq\u201d\u56de\u8f66\u9000\u51fa Demo \u6267\u884c"}),"\n",(0,r.jsxs)(n.li,{children:["\u5c06\u7f16\u7801\u751f\u6210\u7684 test.g711a \u901a\u8fc7 ",(0,r.jsx)(n.code,{children:"scp"})," \u547d\u4ee4\u62f7\u8d1d\u5230\u4e0a\u4f4d\u673a\uff0c\u518d\u4e0b\u8f7d\u5230\u672c\u5730 PC \u64ad\u653e"]}),"\n",(0,r.jsxs)(n.li,{children:["\u672c\u5730PC\u91c7\u7528\u91c7\u7528\u97f3\u89c6\u9891\u8f6f\u4ef6\u5206\u6790\uff0c\u5176\u4e2d\u53c2\u6570\u8bbe\u7f6e\u5982\u4e0b\uff0c\u7136\u540e\u64ad\u653e\u8be5\u5f55\u5236\u7684\u97f3\u9891\uff1a","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u3010\u7f16\u7801\u3011\uff1aA-Law"}),"\n",(0,r.jsx)(n.li,{children:"\u3010\u5b57\u8282\u5e8f\u3011\uff1a\u9ed8\u8ba4\u5c3e\u7aef\uff08endianness\uff09"}),"\n",(0,r.jsx)(n.li,{children:"\u3010\u58f0\u9053\u3011\uff1a2 \u58f0\u9053\uff08\u7acb\u4f53\u58f0\uff09"}),"\n",(0,r.jsx)(n.li,{children:"\u3010\u91c7\u6837\u7387\u3011\uff1a44100"}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},11151:(e,n,s)=>{s.d(n,{Z:()=>d,a:()=>i});var r=s(67294);const l={},c=r.createContext(l);function i(e){const n=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);