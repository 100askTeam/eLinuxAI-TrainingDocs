"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6799],{72236:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>a});var d=i(85893),r=i(11151);const s={sidebar_position:19},l="K230 SDK CanMV Board Demo\u4f7f\u7528\u6307\u5357",t={id:"CanaanK230/part3/K230SDKCanMVBoardDemoDirectionsforuse",title:"K230 SDK CanMV Board Demo\u4f7f\u7528\u6307\u5357",description:"1. \u6982\u8ff0",source:"@site/docs/CanaanK230/part3/19_K230SDKCanMVBoardDemoDirectionsforuse.md",sourceDirName:"CanaanK230/part3",slug:"/CanaanK230/part3/K230SDKCanMVBoardDemoDirectionsforuse",permalink:"/CanaanK230/part3/K230SDKCanMVBoardDemoDirectionsforuse",draft:!1,unlisted:!1,editUrl:"https://github.com/100askTeam/eLinuxAI-TrainingDocs/tree/main/docs/CanaanK230/part3/19_K230SDKCanMVBoardDemoDirectionsforuse.md",tags:[],version:"current",sidebarPosition:19,frontMatter:{sidebar_position:19},sidebar:"canaanK230Sidebar",previous:{title:"K230 SDK EVB Board Demo\u4f7f\u7528\u6307\u5357",permalink:"/CanaanK230/part3/K230SDKEVBBoardDemoDirectionsforuse"},next:{title:"K230 SDK CanMV Board Demo\u4f7f\u7528\u6307\u5357",permalink:"/CanaanK230/part3/K230SDKCanMVBoardDemoDirectionsforuse"}},o={},a=[{value:"1. \u6982\u8ff0",id:"1-\u6982\u8ff0",level:2},{value:"2. Demo\u4ecb\u7ecd",id:"2-demo\u4ecb\u7ecd",level:2},{value:"2.1 Vicap_demo",id:"21-vicap_demo",level:3},{value:"2.1.1 vicap_demo\u7b80\u4ecb",id:"211-vicap_demo\u7b80\u4ecb",level:4},{value:"2.1.2 Feature\u8bf4\u660e",id:"212-feature\u8bf4\u660e",level:4},{value:"2.1.3 \u4f9d\u8d56\u8d44\u6e90",id:"213-\u4f9d\u8d56\u8d44\u6e90",level:4},{value:"2.1.4 \u4f7f\u7528\u8bf4\u660e",id:"214-\u4f7f\u7528\u8bf4\u660e",level:4},{value:"2.1.4.1 \u7f16\u8bd1",id:"2141-\u7f16\u8bd1",level:5},{value:"2.1.4.2 \u6267\u884c",id:"2142-\u6267\u884c",level:5},{value:"2.2 DMA_demo",id:"22-dma_demo",level:3},{value:"2.2.1 DMA_demo\u7b80\u4ecb",id:"221-dma_demo\u7b80\u4ecb",level:4},{value:"2.2.1.1 \u975e\u7ed1\u5b9a\u6a21\u5f0f",id:"2211-\u975e\u7ed1\u5b9a\u6a21\u5f0f",level:5},{value:"2.2.1.2 \u7ed1\u5b9a\u6a21\u5f0f",id:"2212-\u7ed1\u5b9a\u6a21\u5f0f",level:5},{value:"2.2.2 Feature\u8bf4\u660e",id:"222-feature\u8bf4\u660e",level:4},{value:"2.2.3 \u4f9d\u8d56\u8d44\u6e90",id:"223-\u4f9d\u8d56\u8d44\u6e90",level:4},{value:"2.2.4 \u4f7f\u7528\u8bf4\u660e",id:"224-\u4f7f\u7528\u8bf4\u660e",level:4},{value:"2.2.4.1 \u7f16\u8bd1",id:"2241-\u7f16\u8bd1",level:5},{value:"2.2.4.2 \u6267\u884c",id:"2242-\u6267\u884c",level:5},{value:"2.3 USB_demo",id:"23-usb_demo",level:3},{value:"2.3.1 USB_demo\u7b80\u4ecb",id:"231-usb_demo\u7b80\u4ecb",level:4},{value:"2.3.2 Feature\u8bf4\u660e",id:"232-feature\u8bf4\u660e",level:4},{value:"2.3.3 \u4f9d\u8d56\u8d44\u6e90",id:"233-\u4f9d\u8d56\u8d44\u6e90",level:4},{value:"2.3.4 \u4f7f\u7528\u8bf4\u660e",id:"234-\u4f7f\u7528\u8bf4\u660e",level:4},{value:"2.3.4.1 \u4f5c\u4e3adevice\u6a21\u62dfU\u76d8",id:"2341-\u4f5c\u4e3adevice\u6a21\u62dfu\u76d8",level:5},{value:"2.3.4.2 \u4f5c\u4e3aHOST\u8fde\u63a5U\u76d8",id:"2342-\u4f5c\u4e3ahost\u8fde\u63a5u\u76d8",level:5},{value:"2.3.4.3 \u4f5c\u4e3adevice\u6a21\u62df\u9f20\u6807\u952e\u76d8",id:"2343-\u4f5c\u4e3adevice\u6a21\u62df\u9f20\u6807\u952e\u76d8",level:5},{value:"2.3.4.4 \u4f5c\u4e3aHOST\u8fde\u63a5\u9f20\u6807\u952e\u76d8",id:"2344-\u4f5c\u4e3ahost\u8fde\u63a5\u9f20\u6807\u952e\u76d8",level:5},{value:"2.4 FFT Demo",id:"24-fft-demo",level:3},{value:"2.4.1 Demo \u7b80\u4ecb",id:"241-demo-\u7b80\u4ecb",level:4},{value:"2.4.2 Feature\u8bf4\u660e",id:"242-feature\u8bf4\u660e",level:4},{value:"2.4.3 \u4f9d\u8d56\u8d44\u6e90",id:"243-\u4f9d\u8d56\u8d44\u6e90",level:4},{value:"2.4.4 \u4f7f\u7528\u8bf4\u660e",id:"244-\u4f7f\u7528\u8bf4\u660e",level:4},{value:"2.4.4.1 \u7f16\u8bd1",id:"2441-\u7f16\u8bd1",level:5},{value:"2.4.4.2 \u6267\u884c",id:"2442-\u6267\u884c",level:5}];function c(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.h1,{id:"k230-sdk-canmv-board-demo\u4f7f\u7528\u6307\u5357",children:"K230 SDK CanMV Board Demo\u4f7f\u7528\u6307\u5357"}),"\n",(0,d.jsx)(n.h2,{id:"1-\u6982\u8ff0",children:"1. \u6982\u8ff0"}),"\n",(0,d.jsx)(n.p,{children:"\u6b64\u6587\u6863\u4ecb\u7ecdK230 SDK\u63d0\u4f9b\u7684demo\u529f\u80fd\uff0c\u4f7f\u7528\u65b9\u6cd5\u7b49\u3002"}),"\n",(0,d.jsx)(n.h2,{id:"2-demo\u4ecb\u7ecd",children:"2. Demo\u4ecb\u7ecd"}),"\n",(0,d.jsx)(n.h3,{id:"21-vicap_demo",children:"2.1 Vicap_demo"}),"\n",(0,d.jsx)(n.h4,{id:"211-vicap_demo\u7b80\u4ecb",children:"2.1.1 vicap_demo\u7b80\u4ecb"}),"\n",(0,d.jsx)(n.p,{children:"vicap demo\u901a\u8fc7\u8c03\u7528mpi\u63a5\u53e3\u5b9e\u73b0\u6444\u50cf\u5934\u6570\u636e\u91c7\u96c6\u9884\u89c8\u529f\u80fd\u3002"}),"\n",(0,d.jsx)(n.h4,{id:"212-feature\u8bf4\u660e",children:"2.1.2 Feature\u8bf4\u660e"}),"\n",(0,d.jsx)(n.p,{children:"CanMV\u5f00\u53d1\u677f\u9ed8\u8ba4\u4f7f\u7528OV5647\u6444\u50cf\u5934\u6a21\u7ec4\uff0c\u652f\u6301\u5355\u4e2a\u6444\u50cf\u5934\u6700\u591a\u8f93\u51fa\u4e09\u8def\u6570\u636e\u6d41\u3002"}),"\n",(0,d.jsx)(n.h4,{id:"213-\u4f9d\u8d56\u8d44\u6e90",children:"2.1.3 \u4f9d\u8d56\u8d44\u6e90"}),"\n",(0,d.jsx)(n.p,{children:"\u6444\u50cf\u5934\u6a21\u7ec4"}),"\n",(0,d.jsx)(n.h4,{id:"214-\u4f7f\u7528\u8bf4\u660e",children:"2.1.4 \u4f7f\u7528\u8bf4\u660e"}),"\n",(0,d.jsx)(n.h5,{id:"2141-\u7f16\u8bd1",children:"2.1.4.1 \u7f16\u8bd1"}),"\n",(0,d.jsxs)(n.p,{children:["\u8f6f\u4ef6\u7f16\u8bd1\u73af\u5883\u53c2\u8003SDK\u4e2d\u7684",(0,d.jsx)(n.code,{children:"README.md"}),"\u3002"]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\u5728k230_sdk\u76ee\u5f55\u4e0b\u6267\u884c",(0,d.jsx)(n.code,{children:"make mpp-clean && make rt-smart && make build-image"}),"\uff0c\u5c06\u4fee\u6539\u7f16\u8bd1\u8fdbsd\u5361\u955c\u50cf\u4e2d\uff0c\u4f1a\u5728",(0,d.jsx)(n.code,{children:"k230_sdk/output/k230_evb_defconfig/images/"}),"\u76ee\u5f55\u4e0b\u751f\u6210\u955c\u50cf\u6587\u4ef6",(0,d.jsx)(n.code,{children:"sysimage-sdcard.img"}),"\u3002"]}),"\n"]}),"\n",(0,d.jsx)(n.h5,{id:"2142-\u6267\u884c",children:"2.1.4.2 \u6267\u884c"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\u5728\u5927\u6838\u7aef\uff0c\u901a\u8fc7",(0,d.jsx)(n.code,{children:"cd /sdcard/app"})," \u547d\u4ee4\u8fdb\u5165",(0,d.jsx)(n.code,{children:"/sdcard/app"})]}),"\n",(0,d.jsxs)(n.li,{children:["\u5728\u8be5\u76ee\u5f55\u4e0b\u6267\u884c",(0,d.jsx)(n.code,{children:"./sample_vicap"}),"\u547d\u4ee4\u83b7\u53d6\u547d\u4ee4\u5e2e\u52a9\u4fe1\u606f"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["\u5f53\u8f93\u5165\uff1a",(0,d.jsx)(n.code,{children:"sample_vicap"}),"\u547d\u4ee4\u540e\u6253\u5370\u5982\u4e0b\u63d0\u793a\u4fe1\u606f\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"usage: ./sample_vicap -mode 0 -dev 0 -sensor 23 -chn 0 -chn 1 -ow 640 -oh 480 -preview 1 -rotation 1\nOptions:\n -mode:         vicap work mode[0: online mode, 1: offline mode. only offline mode support multiple sensor input]     default 0\n -dev:          vicap device id[0,1,2]        default 0\n -dw:           enable dewarp[0,1]    default 0\n -sensor:       sensor type[0: ov9732@1280x720, 1: ov9286_ir@1280x720], 2: ov9286_speckle@1280x720]\n -ae:           ae status[0: disable AE, 1: enable AE]        default enable\n -awb:          awb status[0: disable AWB, 1: enable AWb]     default enable\n -chn:          vicap output channel id[0,1,2]        default 0\n -ow:           the output image width, default same with input width\n -oh:           the output image height, default same with input height\n -ox:           the output image start position of x\n -oy:           the output image start position of y\n -crop:         crop enable[0: disable, 1: enable]\n -ofmt:         the output pixel format[0: yuv, 1: rgb888, 2: rgb888p, 3: raw], only channel 0 support raw data, default yuv\n -preview:      the output preview enable[0: disable, 1: enable], only support 2 output channel preview\n -rotation:     display rotaion[0: degree 0, 1: degree 90, 2: degree 270, 3: degree 180, 4: unsupport rotaion]\n -help:         print this help\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u53c2\u6570\u8bf4\u660e\u5982\u4e0b\uff1a"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"\u53c2\u6570\u540d\u79f0"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"\u53ef\u9009\u53c2\u6570\u503c"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"\u53c2\u6570\u8bf4\u660e"})})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"-dev"}),(0,d.jsx)(n.td,{children:"0\uff1avicap\u8bbe\u59070 1\uff1avicap\u8bbe\u59071 2\uff1avicap\u8bbe\u59072."}),(0,d.jsx)(n.td,{children:"\u6307\u5b9a\u5f53\u524d\u4f7f\u7528\u7684vicap\u8bbe\u5907\uff0c\u7cfb\u7edf\u6700\u591a\u652f\u6301\u4e09\u4e2avicap\u8bbe\u5907\u3002\u901a\u8fc7\u6307\u5b9a\u8bbe\u5907\u53f7\u5b9e\u73b0sensor\u4e0e\u4e0d\u540cvicap\u8bbe\u5907\u4e4b\u95f4\u7684\u7ed1\u5b9a\u5173\u7cfb\u3002 \u4f8b\u5982\uff1a -dev 1 -sensor 0\u5373\u8868\u793a\u5c06ov9732 1280x720 RGB\u56fe\u50cf\u8f93\u51fa\u7ed1\u5b9a\u5230vicap\u8bbe\u59071."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"-mode"}),(0,d.jsx)(n.td,{children:"0\uff1a\u5728\u7ebf\u6a21\u5f0f\uff1b1\uff1a\u79bb\u7ebf\u6a21\u5f0f"}),(0,d.jsx)(n.td,{children:"\u6307\u5b9avicap\u8bbe\u5907\u5de5\u4f5c\u6a21\u5f0f\uff0c\u5f53\u524d\u4e4b\u524d\u5728\u7ebf\u6a21\u5f0f\u548c\u79bb\u7ebf\u6a21\u5f0f\u3002\u5bf9\u4e8e\u591a\u4e2asensor\u8f93\u5165\uff0c\u5fc5\u987b\u6307\u5b9a\u4e3a\u79bb\u7ebf\u6a21\u5f0f\u3002"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"-conn"}),(0,d.jsx)(n.td,{children:"0: \u5c4f hx8399\uff1b 1: HDMI 3: st7701 480x800"}),(0,d.jsx)(n.td,{children:"\u6307\u5b9a\u663e\u793a\u65b9\u5f0f\uff0c\u53ef\u4ee5\u9009\u62e9\u5c4f\u6216\u8005HDMI \u9ed8\u8ba4\u4e3a0"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"-sensor"}),(0,d.jsx)(n.td,{children:"19\uff1aOV5647\uff08Canmv-K230D-Zero\u677f\uff09"}),(0,d.jsx)(n.td,{children:"\u6307\u5b9a\u5f53\u524d\u4f7f\u7528\u7684sensor\u7c7b\u578b"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"-chn"}),(0,d.jsx)(n.td,{children:"0\uff1avicap\u8bbe\u5907\u8f93\u51fa\u901a\u90530 1\uff1avicap\u8bbe\u5907\u8f93\u51fa\u901a\u90531 2\uff1avicap\u8bbe\u5907\u8f93\u51fa\u901a\u90532."}),(0,d.jsx)(n.td,{children:"\u6307\u5b9a\u5f53\u524d\u4f7f\u7528\u7684vicap\u8bbe\u5907\u7684\u8f93\u51fa\u901a\u9053\uff0c\u4e00\u4e2avicap\u8bbe\u5907\u6700\u591a\u652f\u6301\u4e09\u8def\u8f93\u51fa\uff0c\u4ec5\u901a\u90530\u652f\u6301RAW\u56fe\u50cf\u683c\u5f0f\u8f93\u51fa"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"-ow"}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"\u6307\u5b9a\u8f93\u51fa\u56fe\u50cf\u5bbd\u5ea6\uff0c\u9ed8\u8ba4\u4e3a\u8f93\u5165\u56fe\u50cf\u5bbd\u5ea6\u3002\u5bbd\u5ea6\u9700\u898116\u5b57\u8282\u5bf9\u9f50\u3002 \u5982\u679c\u9ed8\u8ba4\u5bbd\u5ea6\u8d85\u8fc7\u663e\u793a\u5c4f\u8f93\u51fa\u6700\u5927\u5bbd\u5ea6\uff0c\u5219\u4f7f\u7528\u663e\u793a\u8f93\u51fa\u5bbd\u5ea6\u4f5c\u4e3a\u56fe\u50cf\u6700\u7ec8\u8f93\u51fa\u5bbd\u5ea6 \u5982\u679c\u8f93\u51fa\u5bbd\u5ea6\u5c0f\u4e8e\u8f93\u5165\u56fe\u50cf\u5bbd\u5ea6\uff0c\u4e14\u672a\u6307\u5b9aox\u6216\u8005oy\u53c2\u6570\uff0c\u5219\u9ed8\u8ba4\u4e3a\u7f29\u653e\u8f93\u51fa"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"-oh"}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"\u6307\u5b9a\u8f93\u51fa\u56fe\u50cf\u9ad8\u5ea6\uff0c\u9ed8\u8ba4\u4e3a\u8f93\u5165\u56fe\u50cf\u9ad8\u5ea6\u3002 \u5982\u679c\u9ed8\u8ba4\u9ad8\u5ea6\u8d85\u8fc7\u663e\u793a\u5c4f\u8f93\u51fa\u6700\u5927\u9ad8\u5ea6\uff0c\u5219\u4f7f\u7528\u663e\u793a\u8f93\u51fa\u9ad8\u5ea6\u4f5c\u4e3a\u56fe\u50cf\u6700\u7ec8\u8f93\u51fa\u9ad8\u5ea6 \u5982\u679c\u8f93\u51fa\u9ad8\u5ea6\u5c0f\u4e8e\u8f93\u5165\u56fe\u50cf\u9ad8\u5ea6\uff0c\u4e14\u672a\u6307\u5b9aox\u6216\u8005oy\u53c2\u6570\uff0c\u5219\u9ed8\u8ba4\u4e3a\u7f29\u653e\u8f93\u51fa"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"-ox"}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"\u6307\u5b9a\u56fe\u50cf\u8f93\u51fa\u6c34\u5e73\u8d77\u59cb\u4f4d\u7f6e\uff0c\u8be5\u53c2\u6570\u5927\u4e8e0\u5c06\u6267\u884c\u8f93\u51fa\u88c1\u526a\u64cd\u4f5c"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"-oy"}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"\u6307\u5b9a\u56fe\u50cf\u8f93\u51fa\u5782\u76f4\u8d77\u59cb\u4f4d\u7f6e\uff0c\u8be5\u53c2\u6570\u5927\u4e8e0\u5c06\u6267\u884c\u8f93\u51fa\u88c1\u526a\u64cd\u4f5c"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"-crop"}),(0,d.jsx)(n.td,{children:"0\uff1a\u7981\u7528\u88c1\u526a\u529f\u80fd 1\uff1a\u4f7f\u80fd\u88c1\u526a\u529f\u80fd"}),(0,d.jsx)(n.td,{children:"\u5f53\u8f93\u51fa\u56fe\u50cf\u5c3a\u5bf8\u5c0f\u4e8e\u8f93\u5165\u56fe\u50cf\u5c3a\u5bf8\u65f6\uff0c\u9ed8\u8ba4\u672a\u7f29\u653e\u8f93\u51fa\uff0c\u5982\u679c\u6307\u5b9a\u4e86\u8be5\u6807\u5fd7\uff0c\u5219\u4e3a\u88c1\u526a\u8f93\u51fa"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"-ofmt"}),(0,d.jsx)(n.td,{children:"0\uff1ayuv\u683c\u5f0f\u8f93\u51fa 1\uff1argb\u683c\u5f0f\u8f93\u51fa 2\uff1araw\u683c\u5f0f\u8f93\u51fa"}),(0,d.jsx)(n.td,{children:"\u6307\u5b9a\u8f93\u51fa\u56fe\u50cf\u683c\u5f0f\uff0c\u9ed8\u8ba4\u4e3ayuv\u8f93\u51fa\u3002"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"-preview"}),(0,d.jsx)(n.td,{children:"0\uff1a\u7981\u7528\u9884\u89c8\u663e\u793a 1\uff1a\u4f7f\u80fd\u9884\u89c8\u663e\u793a"}),(0,d.jsx)(n.td,{children:"\u6307\u5b9a\u8f93\u51fa\u56fe\u50cf\u9884\u89c8\u663e\u793a\u529f\u80fd\u3002\u9ed8\u8ba4\u4e3a\u4f7f\u80fd\u3002\u5f53\u524d\u6700\u591a\u652f\u63012\u8def\u8f93\u51fa\u56fe\u50cf\u540c\u65f6\u9884\u89c8\u3002"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"-rotation"}),(0,d.jsx)(n.td,{children:"0\uff1a\u65cb\u8f6c0\u5ea6 1\uff1a\u65cb\u8f6c90\u5ea6 2\uff1a\u65cb\u8f6c180\u5ea6 3\uff1a\u65cb\u8f6c270\u5ea6 4\uff1a\u4e0d\u652f\u6301\u65cb\u8f6c"}),(0,d.jsx)(n.td,{children:"\u6307\u5b9a\u9884\u89c8\u663e\u793a\u7a97\u53e3\u65cb\u8f6c\u89d2\u5ea6\u3002\u9ed8\u8ba4\u4ec5\u7b2c\u4e00\u8def\u8f93\u51fa\u56fe\u50cf\u7a97\u53e3\u652f\u6301\u65cb\u8f6c\u529f\u80fd\u3002"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"./sample_vicap.elf -conn 3 -dev 0 -sensor 19 -chn 0 -ow 800 -oh 480 -rotation 1\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u8bf4\u660e\uff1a\u5c06ov5647@1920x1080 \u7ed1\u5b9a\u5230vicap\u8bbe\u59070,\u5e76\u4f7f\u80fdvicap\u8bbe\u5907\u8f93\u51fa\u901a\u90530\uff0c\u5176\u4e2d\u901a\u90530\u8f93\u51fa800x480\uff0c\u901a\u8fc7\u5c4f\u663e\u793a\u3002"}),"\n",(0,d.jsx)(n.h3,{id:"22-dma_demo",children:"2.2 DMA_demo"}),"\n",(0,d.jsx)(n.h4,{id:"221-dma_demo\u7b80\u4ecb",children:"2.2.1 DMA_demo\u7b80\u4ecb"}),"\n",(0,d.jsx)(n.h5,{id:"2211-\u975e\u7ed1\u5b9a\u6a21\u5f0f",children:"2.2.1.1 \u975e\u7ed1\u5b9a\u6a21\u5f0f"}),"\n",(0,d.jsx)(n.p,{children:"dma \u901a\u9053 0-3 \u662f gdma\uff0c4-7 \u662f sdma\u3002"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u901a\u9053 0 \u8fde\u7eed\u8f93\u5165\u5206\u8fa8\u7387\u4e3a 1920x1080 \u7684\u56fe\u50cf\uff0c8bit\uff0cYUV400\uff0c\u5355\u901a\u9053\u6a21\u5f0f\uff0c\u65cb\u8f6c 90 \u5ea6\u540e\u8f93\u51fa\uff0c\u548c golden \u6570\u636e\u6bd4\u5bf9"}),"\n",(0,d.jsx)(n.li,{children:"\u901a\u9053 1 \u8fde\u7eed\u8f93\u5165\u5206\u8fa8\u7387\u4e3a 1280x720 \u7684\u56fe\u50cf\uff0c8bit\uff0cYUV420\uff0c\u53cc\u901a\u9053\u6a21\u5f0f\uff0c\u65cb\u8f6c180 \u5ea6\u540e\u8f93\u51fa\uff0c\u548c golden \u6570\u636e\u6bd4\u5bf9"}),"\n",(0,d.jsx)(n.li,{children:"\u901a\u9053 2 \u8fde\u7eed\u8f93\u5165\u5206\u8fa8\u7387\u4e3a 1280x720 \u7684\u56fe\u50cf\uff0c10bit\uff0cYUV420\uff0c\u4e09\u901a\u9053\u6a21\u5f0f\uff0cx-mirror\uff0cy-mirror \u540e\u8f93\u51fa\uff0c\u548c golden \u6570\u636e\u6bd4\u5bf9"}),"\n",(0,d.jsx)(n.li,{children:"\u901a\u9053 4 \u4e3a 1d \u6a21\u5f0f\u5faa\u73af\u4f20\u8f93\u4e00\u6bb5\u6570\u636e\uff0c\u4f20\u8f93\u5b8c\u6210\u540e\u548c golden \u6570\u636e\u6bd4\u5bf9"}),"\n",(0,d.jsx)(n.li,{children:"\u901a\u9053 5 \u4e3a 2d \u6a21\u5f0f\u5faa\u73af\u4f20\u8f93\u4e00\u6bb5\u6570\u636e\uff0c\u4f20\u8f93\u5b8c\u6210\u540e\u548c golden \u6570\u636e\u6bd4\u5bf9"}),"\n"]}),"\n",(0,d.jsx)(n.h5,{id:"2212-\u7ed1\u5b9a\u6a21\u5f0f",children:"2.2.1.2 \u7ed1\u5b9a\u6a21\u5f0f"}),"\n",(0,d.jsx)(n.p,{children:"\u4f7f\u7528 vvi \u4f5c\u4e3a dma \u6a21\u62df\u8f93\u5165\uff0cvvi \u8bbe\u5907 0 \u7684\u901a\u9053 0 \u7ed1\u5b9a dma \u7684\u901a\u9053 0\uff0cvvi \u8bbe\u5907 0 \u7684\u901a\u9053 1 \u7ed1\u5b9a dma \u7684\u901a\u9053 1\u3002vvi \u6bcf\u9694\u4e00\u79d2\uff0c\u5411\u901a\u9053 0 \u8f93\u5165 640x320\uff0cYUV400\uff0c8bit\uff0c\u65cb\u8f6c 90\xb0 \u7684\u56fe\u50cf\uff0c\u5411\u901a\u9053 1 \u8f93\u5165 640x320\uff0cYUV400\uff0c8bit\uff0c\u65cb\u8f6c 180\xb0 \u7684\u56fe\u50cf\u3002"}),"\n",(0,d.jsx)(n.h4,{id:"222-feature\u8bf4\u660e",children:"2.2.2 Feature\u8bf4\u660e"}),"\n",(0,d.jsx)(n.p,{children:"\u5305\u62ec dma \u8bbe\u5907\u5c5e\u6027\u914d\u7f6e\uff0c\u901a\u9053\u5c5e\u6027\u914d\u7f6e\uff0c\u56fe\u5f62\u8f93\u5165\u3001\u8f93\u51fa\u3001\u91ca\u653e\uff0cpipeline \u7ed1\u5b9a\u7b49\u529f\u80fd\u3002"}),"\n",(0,d.jsx)(n.h4,{id:"223-\u4f9d\u8d56\u8d44\u6e90",children:"2.2.3 \u4f9d\u8d56\u8d44\u6e90"}),"\n",(0,d.jsx)(n.p,{children:"\u65e0"}),"\n",(0,d.jsx)(n.h4,{id:"224-\u4f7f\u7528\u8bf4\u660e",children:"2.2.4 \u4f7f\u7528\u8bf4\u660e"}),"\n",(0,d.jsx)(n.h5,{id:"2241-\u7f16\u8bd1",children:"2.2.4.1 \u7f16\u8bd1"}),"\n",(0,d.jsx)(n.p,{children:"\u8f6f\u4ef6\u7f16\u8bd1\u53c2\u8003 release sdk \u8f6f\u4ef6\u5305\u4e2d\u7684 README.md\u3002"}),"\n",(0,d.jsx)(n.h5,{id:"2242-\u6267\u884c",children:"2.2.4.2 \u6267\u884c"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsx)(n.li,{children:"\u975e\u7ed1\u5b9a\u6a21\u5f0f demo \u8fd0\u884c"}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"/sdcard/app/sample_dma.elf\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u4f1a\u6709\u6d4b\u8bd5\u4fe1\u606f\u5728\u5c4f\u5e55\u4e0a\u663e\u793a\u51fa\u6765\uff0c\u8f93\u5165 q \u7ed3\u675f\u8fd0\u884c\u3002"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsx)(n.li,{children:"\u7ed1\u5b9a\u6a21\u5f0f demo \u8fd0\u884c"}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"/sdcard/app/sample_dma_bind.elf\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u4f1a\u6709\u6d4b\u8bd5\u4fe1\u606f\u5728\u5c4f\u5e55\u4e0a\u663e\u793a\u51fa\u6765\uff0c\u8f93\u5165 q \u7ed3\u675f\u8fd0\u884c\u3002"}),"\n",(0,d.jsx)(n.h3,{id:"23-usb_demo",children:"2.3 USB_demo"}),"\n",(0,d.jsx)(n.h4,{id:"231-usb_demo\u7b80\u4ecb",children:"2.3.1 USB_demo\u7b80\u4ecb"}),"\n",(0,d.jsx)(n.p,{children:"USB demo\u76ee\u524d\u8c03\u8bd5\u4e864\u4e2a\u529f\u80fd\uff0c"}),"\n",(0,d.jsx)(n.p,{children:"\u4f5c\u4e3adevice\uff0c\u6a21\u62dfU\u76d8\uff0c\u6a21\u62df\u9f20\u6807\u952e\u76d8\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u4f5c\u4e3ahost\uff0c\u8fde\u63a5U\u76d8\uff0c\u8fde\u63a5\u9f20\u6807\u952e\u76d8\u3002"}),"\n",(0,d.jsx)(n.h4,{id:"232-feature\u8bf4\u660e",children:"2.3.2 Feature\u8bf4\u660e"}),"\n",(0,d.jsx)(n.p,{children:"USB demo\u7684\u529f\u80fd\u662flinux\u7cfb\u7edf\u539f\u59cb\u96c6\u6210\u7684\u529f\u80fd\u3002"}),"\n",(0,d.jsx)(n.h4,{id:"233-\u4f9d\u8d56\u8d44\u6e90",children:"2.3.3 \u4f9d\u8d56\u8d44\u6e90"}),"\n",(0,d.jsx)(n.p,{children:"typeC\u7ebf\uff0ctypeC\u8f6ctypeA\u3002"}),"\n",(0,d.jsx)(n.h4,{id:"234-\u4f7f\u7528\u8bf4\u660e",children:"2.3.4 \u4f7f\u7528\u8bf4\u660e"}),"\n",(0,d.jsx)(n.h5,{id:"2341-\u4f5c\u4e3adevice\u6a21\u62dfu\u76d8",children:"2.3.4.1 \u4f5c\u4e3adevice\u6a21\u62dfU\u76d8"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"#\u89c4\u5212\u4e00\u5757\u5185\u5b58\u7a7a\u95f4\u4f5c\u4e3a\u6a21\u62dfU\u76d8\u7684\u78c1\u76d8\u7a7a\u95f4\u3002\n[root@canaan / ]#gadget-storage-mem.sh\n2+0 records in\n2+0 records out\nmkfs.fat 4.1 (2017-01-24)\n[ 1218.882053] Mass Storage Function, version: 2009/09/11\n[ 1218.887308] LUN: removable file: (no medium)\n[ 1218.895464] dwc2 91500000.usb-otg: bound driver configfs-gadget\n[root@canaan / ]#[ 1219.019554] dwc2 91500000.usb-otg: new device is high-speed\n[ 1219.056629] dwc2 91500000.usb-otg: new address 5\n\n##\u4f7f\u7528SD/eMMC\u7684FAT\u5206\u533a\u5f53\u4f5c\u6a21\u62dfU\u76d8\u7684\u78c1\u76d8\u7a7a\u95f4\u3002\n[root@canaan ~ ]#gadget-storage.sh\n[  359.995510] Mass Storage Function, version: 2009/09/11\n[  360.000762] LUN: removable file: (no medium)\n[  360.013138] dwc2 91500000.usb-otg: bound driver configfs-gadget\n[root@canaan ~ ]#[  360.136809] dwc2 91500000.usb-otg: new device is high-speed\n[  360.173543] dwc2 91500000.usb-otg: new address 43\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u8fde\u63a5\u5f00\u53d1\u677f\u7684USB\u53e3\uff0ctypeC\u8fde\u63a5PC\uff0cPC\u4e0a\u663e\u793aU\u76d8\u8fde\u63a5\u3002"}),"\n",(0,d.jsx)(n.h5,{id:"2342-\u4f5c\u4e3ahost\u8fde\u63a5u\u76d8",children:"2.3.4.2 \u4f5c\u4e3aHOST\u8fde\u63a5U\u76d8"}),"\n",(0,d.jsx)(n.p,{children:"K230\u5f00\u53d1\u677fUSB\u53e3\u901a\u8fc7typeC\u8f6ctypeA\u8fde\u63a5U\u76d8\u3002"}),"\n",(0,d.jsx)(n.h5,{id:"2343-\u4f5c\u4e3adevice\u6a21\u62df\u9f20\u6807\u952e\u76d8",children:"2.3.4.3 \u4f5c\u4e3adevice\u6a21\u62df\u9f20\u6807\u952e\u76d8"}),"\n",(0,d.jsx)(n.p,{children:"K230\u5f00\u53d1\u677fUSB\u53e3\u901a\u8fc7typeC\u8fde\u63a5\u53e6\u5916\u4e00\u53f0\u7535\u8111\u8bbe\u5907\u6765\u8fdb\u884c\u6d4b\u8bd5"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"[root@canaan / ]#gadget-hid.sh\n\n[root@canaan / ]#hid_gadget_test /dev/hidg0 mouse\n#\u6839\u636e\u63d0\u793a\u8f93\u5165\u76f8\u5e94\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982-123 -123\uff0c\u53ef\u4ee5\u770b\u5230PC\u4e0a\u7684\u9f20\u6807\u6307\u9488\u79fb\u52a8\u3002\n\n[root@canaan / ]#hid_gadget_test /dev/hidg1 keyboard\n#\u6839\u636e\u63d0\u793a\u8f93\u5165\u76f8\u5e94\u7684\u64cd\u4f5c\uff0c\u53ef\u4ee5\u770b\u5230PC\u4e0a\u7684\u7c7b\u4f3c\u952e\u76d8\u8f93\u5165\u3002\u6bd4\u5982a b c --return\n"})}),"\n",(0,d.jsx)(n.h5,{id:"2344-\u4f5c\u4e3ahost\u8fde\u63a5\u9f20\u6807\u952e\u76d8",children:"2.3.4.4 \u4f5c\u4e3aHOST\u8fde\u63a5\u9f20\u6807\u952e\u76d8"}),"\n",(0,d.jsx)(n.p,{children:"K230\u5f00\u53d1\u677fUSB\u901a\u8fc7typeC\u8f6ctypeA\u8fde\u63a5\u9f20\u6807\u6216\u952e\u76d8\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'#\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u786e\u5b9ainput\u8bbe\u5907\u5bf9\u5e94\u7684event\u3002K230\u5f00\u53d1\u677f\u5982\u679c\u6ca1\u6709\u8fde\u63a5\u5c4f\u5e55\uff0c\u8fde\u63a5\u9f20\u6807\u952e\u76d8\u5bf9\u5e94\u7684event\u4f1a\u6539\u53d8\u3002\n[root@canaan ~ ]#cat /proc/bus/input/devices\n...\nI: Bus=0003 Vendor=046d Product=c52f Version=0111\nN: Name="Logitech USB Receiver"\nP: Phys=usb-91500000.usb-otg-1/input0\nS: Sysfs=/devices/platform/soc/91500000.usb-otg/usb1/1-1/1-1:1.0/0003:046D:C52F.0001/input/input2\nU: Uniq=\nH: Handlers=event2\nB: PROP=0\nB: EV=17\nB: KEY=ffff0000 0 0 0 0\nB: REL=1943\nB: MSC=10\n'})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"[root@canaan / ]$ test_mouse /dev/input/event2\n#\u70b9\u51fb\u6216\u79fb\u52a8\u9f20\u6807\uff0c\u4e32\u53e3\u4f1a\u6709\u5bf9\u5e94\u7684\u663e\u793a\u3002\n\n[root@canaan / ]$ test_keyboard /dev/input/event2\n#\u6309\u4e0b\u952e\u76d8\u4e0d\u540c\u7684\u6309\u952e\uff0c\u4e32\u53e3\u4f1a\u6709\u5bf9\u5e94\u7684\u663e\u793a\u3002\n"})}),"\n",(0,d.jsx)(n.h3,{id:"24-fft-demo",children:"2.4 FFT Demo"}),"\n",(0,d.jsx)(n.h4,{id:"241-demo-\u7b80\u4ecb",children:"2.4.1 Demo \u7b80\u4ecb"}),"\n",(0,d.jsx)(n.p,{children:"\u672c demo \u7528\u4e8e\u9a8c\u8bc1fft api\u4f7f\u7528\uff0c\u6d4b\u8bd5fft\u529f\u80fd\uff0c\u4ee3\u7801\u89c1src/big/mpp/userapps/sample/sample_fft/"}),"\n",(0,d.jsx)(n.h4,{id:"242-feature\u8bf4\u660e",children:"2.4.2 Feature\u8bf4\u660e"}),"\n",(0,d.jsx)(n.p,{children:"\u5148\u8fdb\u884cfft\u8ba1\u7b97\uff0c\u5728\u8fdb\u884cifft\u8ba1\u7b97"}),"\n",(0,d.jsx)(n.h4,{id:"243-\u4f9d\u8d56\u8d44\u6e90",children:"2.4.3 \u4f9d\u8d56\u8d44\u6e90"}),"\n",(0,d.jsx)(n.p,{children:"\u65e0"}),"\n",(0,d.jsx)(n.h4,{id:"244-\u4f7f\u7528\u8bf4\u660e",children:"2.4.4 \u4f7f\u7528\u8bf4\u660e"}),"\n",(0,d.jsx)(n.h5,{id:"2441-\u7f16\u8bd1",children:"2.4.4.1 \u7f16\u8bd1"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsx)(n.p,{children:"\u8bf7\u53c2\u8003release sdk\u8f6f\u4ef6\u5305\u4e2d\u7684README.md\u3002"}),"\n"]}),"\n",(0,d.jsx)(n.h5,{id:"2442-\u6267\u884c",children:"2.4.4.2 \u6267\u884c"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"\u7cfb\u7edf\u90fd\u8d77\u6765\u540e\uff0c\u5728\u5927\u6838\u547d\u4ee4\u884c\u6267\u884c\u4e0b\u9762\u547d\u4ee4\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"cd /sdcard/app;./sample_fft.elf\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u5927\u6838\u4e32\u53e3\u8f93\u51fa\u5185\u5bb9\u5982\u4e0b\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"msh /sdcard/app>./sample_fft.elf 1 0\n-----fft ifft point 0064  -------\n    max diff 0003 0001\n    i=0045 real  hf 0000  hif fc24 org fc21 dif 0003\n    i=0003 imag  hf ffff  hif 0001 org 0000 dif 0001\n-----fft ifft point 0064 use 133 us result: ok\n\n\n-----fft ifft point 0128  -------\n    max diff 0003 0002\n    i=0015 real  hf 0001  hif fca1 org fc9e dif 0003\n    i=0031 imag  hf 0001  hif fffe org 0000 dif 0002\n-----fft ifft point 0128 use 121 us result: ok\n\n\n-----fft ifft point 0256  -------\n    max diff 0003 0001\n    i=0030 real  hf 0000  hif fca1 org fc9e dif 0003\n    i=0007 imag  hf ffff  hif 0001 org 0000 dif 0001\n-----fft ifft point 0256 use 148 us result: ok\n\n\n-----fft ifft point 0512  -------\n    max diff 0003 0003\n    i=0060 real  hf 0000  hif fca1 org fc9e dif 0003\n    i=0314 imag  hf 0001  hif fffd org 0000 dif 0003\n-----fft ifft point 0512 use 206 us result: ok\n\n\n-----fft ifft point 1024  -------\n    max diff 0005 0002\n    i=0511 real  hf 0000  hif fc00 org fc05 dif 0005\n    i=0150 imag  hf 0000  hif fffe org 0000 dif 0002\n-----fft ifft point 1024 use 328 us result: ok\n\n\n-----fft ifft point 2048  -------\n    max diff 0005 0003\n    i=1022 real  hf 0000  hif fc00 org fc05 dif 0005\n    i=1021 imag  hf 0000  hif 0003 org 0000 dif 0003\n-----fft ifft point 2048 use 574 us result: ok\n\n\n-----fft ifft point 4096  -------\n    max diff 0005 0002\n    i=4094 real  hf 027b  hif 041f org 0424 dif 0005\n    i=0122 imag  hf 0000  hif 0002 org 0000 dif 0002\n-----fft ifft point 4096 use 1099 us result: ok\n"})}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(c,{...e})}):c(e)}},11151:(e,n,i)=>{i.d(n,{Z:()=>t,a:()=>l});var d=i(67294);const r={},s=d.createContext(r);function l(e){const n=d.useContext(s);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),d.createElement(s.Provider,{value:n},e.children)}}}]);