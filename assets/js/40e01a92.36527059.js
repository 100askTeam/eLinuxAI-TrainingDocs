"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8361],{70827:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>o});var a=t(85893),i=t(11151);const s={sidebar_position:2},r="\u64ad\u653eMP4\u89c6\u9891",l={id:"CanaanK230/part15/mp4demuxer",title:"\u64ad\u653eMP4\u89c6\u9891",description:"1.\u5b9e\u9a8c\u76ee\u7684",source:"@site/docs/CanaanK230/part15/02-mp4demuxer.md",sourceDirName:"CanaanK230/part15",slug:"/CanaanK230/part15/mp4demuxer",permalink:"/CanaanK230/part15/mp4demuxer",draft:!1,unlisted:!1,editUrl:"https://github.com/100askTeam/eLinuxAI-TrainingDocs/tree/main/docs/CanaanK230/part15/02-mp4demuxer.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"canaanK230Sidebar",previous:{title:"\u5f55\u5236MP4\u89c6\u9891",permalink:"/CanaanK230/part15/mp4muxer"},next:{title:"\u5f55\u5236\u97f3\u9891",permalink:"/CanaanK230/part15/audioRec"}},p={},o=[{value:"1.\u5b9e\u9a8c\u76ee\u7684",id:"1\u5b9e\u9a8c\u76ee\u7684",level:2},{value:"2.\u793a\u4f8b\u4ee3\u7801",id:"2\u793a\u4f8b\u4ee3\u7801",level:2},{value:"3.\u5b9e\u9a8c\u7ed3\u679c",id:"3\u5b9e\u9a8c\u7ed3\u679c",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",img:"img",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"\u64ad\u653emp4\u89c6\u9891",children:"\u64ad\u653eMP4\u89c6\u9891"}),"\n",(0,a.jsx)(n.h2,{id:"1\u5b9e\u9a8c\u76ee\u7684",children:"1.\u5b9e\u9a8c\u76ee\u7684"}),"\n",(0,a.jsx)(n.p,{children:"\u5b66\u4e60MP4\u6587\u4ef6\u7684\u64ad\u653e\u3002"}),"\n",(0,a.jsx)(n.h2,{id:"2\u793a\u4f8b\u4ee3\u7801",children:"2.\u793a\u4f8b\u4ee3\u7801"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'\'\'\'\n\u672c\u7a0b\u5e8f\u9075\u5faaGPL V3\u534f\u8bae, \u8bf7\u9075\u5faa\u534f\u8bae\n\u5b9e\u9a8c\u5e73\u53f0\uff1a DshanPI CanMV\n\u5f00\u53d1\u677f\u6587\u6863\u7ad9\u70b9\t: https://eai.100ask.net/\n\u767e\u95ee\u7f51\u5b66\u4e60\u5e73\u53f0   : https://www.100ask.net\n\u767e\u95ee\u7f51\u5b98\u65b9B\u7ad9    : https://space.bilibili.com/275908810\n\u767e\u95ee\u7f51\u5b98\u65b9\u6dd8\u5b9d   : https://100ask.taobao.com\n\'\'\'\nfrom media.player import Player, K_PLAYER_EVENT_EOF\nimport os\nimport time\nimport sys\n\nclass MP4Player:\n    def __init__(self, filepath):\n        self.filepath = filepath\n        self._is_playing = False\n        self.player = Player()\n\n    def _event_callback(self, event, data):\n        """\u64ad\u653e\u5668\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570"""\n        if event == K_PLAYER_EVENT_EOF:\n            self._is_playing = False\n\n    def play(self):\n        """\u542f\u52a8\u64ad\u653e\u6d41\u7a0b"""\n        try:\n            self.player.load(self.filepath)\n            self.player.set_event_callback(self._event_callback)\n            self.player.start()\n            self._is_playing = True\n\n            print(f"Start playing: {self.filepath}")\n            while self._is_playing:\n                time.sleep(0.1)\n                os.exitpoint()\n\n        except KeyboardInterrupt:\n            print("User interrupted playback.")\n        except Exception as e:\n            sys.print_exception(e)\n        finally:\n            self.stop()\n\n    def stop(self):\n        """\u505c\u6b62\u64ad\u653e\u5e76\u6e05\u7406\u8d44\u6e90"""\n        if self.player:\n            self.player.stop()\n        print("Playback finished.")\n\ndef main():\n    os.exitpoint(os.EXITPOINT_ENABLE)\n    video_path = "/sdcard/examples/test.mp4"\n    player = MP4Player(video_path)\n    player.play()\n\nif __name__ == "__main__":\n    main()\n'})}),"\n",(0,a.jsx)(n.h2,{id:"3\u5b9e\u9a8c\u7ed3\u679c",children:"3.\u5b9e\u9a8c\u7ed3\u679c"}),"\n",(0,a.jsx)(n.p,{children:"\u200b\t\u70b9\u51fb\u8fd0\u884c\u4ee3\u7801\u540e\uff0c\u53ef\u4ee5\u5728IDE\u4e0a\u770b\u5230MP4\u6587\u4ef6\u7684\u753b\u9762\u3002"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"image-20250423145930126",src:t(53255).Z+"",width:"1528",height:"1032"})})]})}function d(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},53255:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/image-20250423145930126-22526fce4d435700d0ec782025988c94.png"},11151:(e,n,t)=>{t.d(n,{Z:()=>l,a:()=>r});var a=t(67294);const i={},s=a.createContext(i);function r(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);