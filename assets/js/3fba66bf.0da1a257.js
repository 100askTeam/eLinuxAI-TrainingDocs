"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[8671],{192:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>r,toc:()=>l});var o=t(74848),s=t(28453);const a={sidebar_position:2},i="2.nncase\u8fdb\u884c\u6a21\u578b\u8f6c\u6362",r={id:"CanaanK510/nncase-NeuralNetworkAcceleratorConversionModel",title:"2.nncase\u8fdb\u884c\u6a21\u578b\u8f6c\u6362",description:"image-20231012151211305",source:"@site/docs/CanaanK510/09-nncase-NeuralNetworkAcceleratorConversionModel.md",sourceDirName:"CanaanK510",slug:"/CanaanK510/nncase-NeuralNetworkAcceleratorConversionModel",permalink:"/CanaanK510/nncase-NeuralNetworkAcceleratorConversionModel",draft:!1,unlisted:!1,editUrl:"https://github.com/100askTeam/eLinuxAI-TrainingDocs/tree/main/docs/CanaanK510/09-nncase-NeuralNetworkAcceleratorConversionModel.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"calsspartoneSidebar",previous:{title:"1.YOLOV5\u76ee\u6807\u68c0\u6d4b\u7b97\u6cd5",permalink:"/CanaanK510/YOLOV5-ObjectDetectionAlgorithm"},next:{title:"3.K510\u7aef\u4fa7\u90e8\u7f72\u6a21\u578b",permalink:"/CanaanK510/K510-DeploymentModel"}},c={},l=[];function p(n){const e={a:"a",code:"code",h1:"h1",img:"img",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h1,{id:"2nncase\u8fdb\u884c\u6a21\u578b\u8f6c\u6362",children:"2.nncase\u8fdb\u884c\u6a21\u578b\u8f6c\u6362"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:"http://photos.100ask.net/eLinuxAI-TrainingDocs/image-20231012151211305.png",alt:"image-20231012151211305"})}),"\n",(0,o.jsx)(e.p,{children:"\u6211\u4eec\u73b0\u5728\u5df2\u7ecf\u5c06\u6a21\u578b\u4ecepytorch\u683c\u5f0f\u8f6c\u6362\u4e3aonnx\u683c\u5f0f\uff0c\u73b0\u5728\u6211\u4eec\u9700\u8981\u5c06\u6a21\u578b\u7ee7\u7eed\u8f6c\u6362\u4e3anncase\u683c\u5f0f\u7684\u6a21\u578b\u6587\u4ef6\u3002"}),"\n",(0,o.jsx)(e.p,{children:"\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4f7f\u7528\u5230nncase\u4e2dCompiler\u90e8\u5206\uff0c\u5c06ONNX\u6a21\u578b\u8f6c\u6362\u4e3aDongshanPI-Vision\u5f00\u53d1\u677f\uff08K510\u82af\u7247\uff09\u4e2d\u4f7f\u7528\u7684kmodel\u6587\u4ef6\u3002"}),"\n",(0,o.jsxs)(e.p,{children:["\u6211\u4eec\u5df2\u7ecf\u63d0\u524d\u5728Ubuntu\u4e2d\u63d0\u4f9b\u597d\u4e86\u6a21\u578b\u8f6c\u6362\u7a0b\u5e8f\uff0c\u7a0b\u5e8f\u4f4d\u4e8e",(0,o.jsx)(e.code,{children:"/home/ubuntu/yolov5s-modelTransformation"}),"\u4e0b",(0,o.jsx)(e.code,{children:"gen_yolov5s_320_with_sigmoid_bf16_with_preprocess_output_nhwc.py"})]}),"\n",(0,o.jsx)(e.p,{children:"\u2460\u5c06\u521a\u521a\u751f\u6210\u7684onnx\u62f7\u8d1d\u5230\u5f53\u524d\u76ee\u5f55\u4e0b\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:"http://photos.100ask.net/eLinuxAI-TrainingDocs/image-20231012151226736.png",alt:"image-20231012151226736"})}),"\n",(0,o.jsx)(e.p,{children:"\u2461\u6267\u884c\u8be5\u7a0b\u5e8f\u8f6c\u6362\u6a21\u578b\uff1a"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-shell",children:"python gen_yolov5s_320_with_sigmoid_bf16_with_preprocess_output_nhwc.py --target k510  --dump_dir ./tmp --onnx ./yolov5s-sim.onnx --kmodel ./yolov5s-sim.kmodel\n"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:"http://photos.100ask.net/eLinuxAI-TrainingDocs/image-20231012151238188.png",alt:"image-20231012151238188"})}),"\n",(0,o.jsx)(e.p,{children:"\u9605\u8bfbnncase\u5f00\u53d1\u624b\u518c\uff0c\u4e86\u89e3\u6a21\u578b\u8f6c\u6362\u7a0b\u5e8fgen_yolov5s_320_with_sigmoid_bf16_with_preprocess_output_nhwc.py"}),"\n",(0,o.jsxs)(e.p,{children:["\u5bf9\u6bd4\u63d0\u4f9b\u7684API\u4e0e\u5b9e\u9645\u7684\u6a21\u578b\u8f6c\u6362\u7a0b\u5e8f\u3002\u6253\u5f00\u6587\u6863\u7f51\u5740\uff1a",(0,o.jsx)(e.a,{href:"https://canaan-docs.100ask.net/Application/AIApplicationDevelopment-Canaan/05-nncase_Developer_Guides.html",children:"https://canaan-docs.100ask.net/Application/AIApplicationDevelopment-Canaan/05-nncase_Developer_Guides.html"})]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:"http://photos.100ask.net/eLinuxAI-TrainingDocs/image-20231012151254481.png",alt:"image-20231012151254481"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"\u6a21\u578b\u8f6c\u6362\u7a0b\u5e8f"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:"http://photos.100ask.net/eLinuxAI-TrainingDocs/image-20231012151309507.png",alt:"image-20231012151309507"})})]})}function d(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(p,{...n})}):p(n)}},28453:(n,e,t)=>{t.d(e,{R:()=>i,x:()=>r});var o=t(96540);const s={},a=o.createContext(s);function i(n){const e=o.useContext(a);return o.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),o.createElement(a.Provider,{value:e},n.children)}}}]);