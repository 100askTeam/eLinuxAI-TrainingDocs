<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-CanaanK230/part2/part1/CameraExperimentEncodingVideoStream" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">摄像头实验-编码视频流 | 东山Π</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://eai.100ask.net/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://eai.100ask.net/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://eai.100ask.net/en/CanaanK230/part2/part1/CameraExperimentEncodingVideoStream"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="摄像头实验-编码视频流 | 东山Π"><meta data-rh="true" name="description" content="硬件要求："><meta data-rh="true" property="og:description" content="硬件要求："><link data-rh="true" rel="icon" href="/en/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://eai.100ask.net/en/CanaanK230/part2/part1/CameraExperimentEncodingVideoStream"><link data-rh="true" rel="alternate" href="https://eai.100ask.net/CanaanK230/part2/part1/CameraExperimentEncodingVideoStream" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://eai.100ask.net/en/CanaanK230/part2/part1/CameraExperimentEncodingVideoStream" hreflang="en"><link data-rh="true" rel="alternate" href="https://eai.100ask.net/CanaanK230/part2/part1/CameraExperimentEncodingVideoStream" hreflang="x-default"><link rel="stylesheet" href="/en/assets/css/styles.e3ab61ce.css">
<script src="/en/assets/js/runtime~main.6fb5cdde.js" defer="defer"></script>
<script src="/en/assets/js/main.34a03a10.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/logo.svg" alt="DshanPI" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/en/img/logo.svg" alt="DshanPI" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">eLinux AI开发</b></a><a class="navbar__item navbar__link" href="/en/ELinuxAIBase/BoardIntroduction-1">嵌入式AI基础</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/en/CanaanK230/Userdoc">嘉楠K230开发</a><a class="navbar__item navbar__link" href="/en/CanaanK510/YOLOV5-ObjectDetectionAlgorithm">嘉楠K510开发</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/CanaanK230/part2/part1/CameraExperimentEncodingVideoStream" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-Hans">简体中文</a></li><li><a href="/en/CanaanK230/part2/part1/CameraExperimentEncodingVideoStream" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li></ul></div><a href="https://github.com/100askTeam/eLinuxAI-TrainingDocs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/CanaanK230/Userdoc">文档阅读指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/CanaanK230/download">开发板资料下载</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/category/开发板上手指南">开发板上手指南</a><button aria-label="Expand sidebar category &#x27;开发板上手指南&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/category/基础实验">基础实验</a><button aria-label="Expand sidebar category &#x27;基础实验&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/category/摄像头实验">摄像头实验</a><button aria-label="Expand sidebar category &#x27;摄像头实验&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/category/特征检测">特征检测</a><button aria-label="Expand sidebar category &#x27;特征检测&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/category/颜色处理">颜色处理</a><button aria-label="Expand sidebar category &#x27;颜色处理&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/category/条形码处理">条形码处理</a><button aria-label="Expand sidebar category &#x27;条形码处理&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/category/ai视觉实验">AI视觉实验</a><button aria-label="Expand sidebar category &#x27;AI视觉实验&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/category/多媒体应用">多媒体应用</a><button aria-label="Expand sidebar category &#x27;多媒体应用&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/category/网络应用">网络应用</a><button aria-label="Expand sidebar category &#x27;网络应用&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/category/常见问题">常见问题</a><button aria-label="Expand sidebar category &#x27;常见问题&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/category/micropython参考开发指南">MicroPython参考开发指南</a><button aria-label="Expand sidebar category &#x27;MicroPython参考开发指南&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/en/category/进阶-rtsmartlinux双系统开发">进阶-RTSmart+Linux双系统开发</a><button aria-label="Collapse sidebar category &#x27;进阶-RTSmart+Linux双系统开发&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/DshanPICanMVK230SDKEnvironmentConstruction">K230 SDK环境搭建(待更新)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/K230SDKUserGuide">K230_SDK使用指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/K230_SDKDevelopmentGuide">K230_SDK开发指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/frequentlyUsedCommands">常用命令</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/FileTransferGuidelines">开发板文件传输</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/en/category/嵌入式应用开发指南">嵌入式应用开发指南</a><button aria-label="Collapse sidebar category &#x27;嵌入式应用开发指南&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/K230PracticalBasics-hello world">hello world 基础应用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/CameraExperimentCaptureImage">摄像头实验-捕获一张图像</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/CameraExperimentDifferentResolutions">摄像头实验-捕获不同分辨率图像</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/DisplayExperimentDisplayImage">显示屏实验-显示一张图像</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/DisplayExperimentDifferentResolutions">显示屏实验-显示不同分辨率图像</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/AchieveRealTimePreviewCameraDisplay">实现摄像头的显示屏实时预览</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/en/CanaanK230/part2/part1/CameraExperimentEncodingVideoStream">摄像头实验-编码视频流</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/DisplayExperimentDecodingDisplay">显示屏实验-解码显示</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/K230SDKCanMVBoardDemoDirectionsforuse">CanMV Board Demo使用指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/K230AIDemointroduce">K230 AI Demo介绍</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/K230FancyPOCintroduce">K230 Fancy POC介绍</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/K230HeteronuclearCommunication">K230 异核通信 Demo使用指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/K230GPUPracticalapplication-VGLitedrawscoolgraphics">K230 GPU 应用实战 - VGLite 绘制酷炫图形</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/K230SceneCombatSmartDoorLockPOC">K230 场景实战-智能门锁POC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/K230GUIpractical LVGLportingtutorials">K230 GUI实战 - LVGL移植教程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/K230SceneCombatSmartDoorLockPOC3DStructuredLight">K230 场景实战-智能门锁POC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/K230RVVActualcombat">K230 RVV实战</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/K230SceneCombatMaoyanPOC">K230 场景实战-猫眼POC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/K230SceneCombatDictionaryPenPOC">K230 场景实战-词典笔POC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/K230USBapplicationisUVCtransmissionofYUVandcodedstreams">K230 USB应用实战-UVC传输YUV及编码码流</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/K230codingpracticertspserverbuildandpushstreams">K230 编码实战 - rtsp sever搭建和推流</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/K230imagepracticebootvideoandbootlogo">K230 图像实战 - 开机视频和开机logo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/K230SceneCombatdpuDepthCameraPOC">K230 场景实战-dpu深度相机POC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/K230AIActualcombatHHBNeuralNetworkModelDeploymentTool">K230 AI实战 - HHB神经网络模型部署工具</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/K230SDKEVBBoardDemoDirectionsforuse">K230 SDK EVB Board Demo使用指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/en/CanaanK230/part2/part1/K230audiopracticeaudiocollectionplaybackandencoding">K230 音频实战 - 音频采集、播放和编解码</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/en/category/系统开发指南">系统开发指南</a><button aria-label="Expand sidebar category &#x27;系统开发指南&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/en/category/sdk-api参考指南">SDK API参考指南</a><button aria-label="Expand sidebar category &#x27;SDK API参考指南&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/en/category/常见问题-1">常见问题</a><button aria-label="Expand sidebar category &#x27;常见问题&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/category/系统级ai应用开发指南">系统级AI应用开发指南</a><button aria-label="Expand sidebar category &#x27;系统级AI应用开发指南&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/en/category/进阶-rtsmartlinux双系统开发"><span itemprop="name">进阶-RTSmart+Linux双系统开发</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/en/category/嵌入式应用开发指南"><span itemprop="name">嵌入式应用开发指南</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">摄像头实验-编码视频流</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>摄像头实验-编码视频流</h1>
<p>硬件要求：</p>
<ul>
<li>DshanPI-CanMV开发板</li>
<li>Type-C数据线 x2</li>
<li>GC2093摄像头</li>
</ul>
<p>开发环境：</p>
<ul>
<li>Ubuntu20.04</li>
</ul>
<p>注意：在学习前请按照<a href="https://eai.100ask.net/CanaanK230/part2/DshanPICanMVK230SDKEnvironmentConstruction" target="_blank" rel="noopener noreferrer">《K230 SDK环境搭建》</a>搭建好K230的开发环境或者直接获取资料光盘中搭建好环境的Ubuntu虚拟机。</p>
<p>配套源码：<a href="https://pan.baidu.com/s/1VBd0n3FKO0bj8yHOWk4HEw?pwd=ov5d" target="_blank" rel="noopener noreferrer">https://pan.baidu.com/s/1VBd0n3FKO0bj8yHOWk4HEw?pwd=ov5d</a> 提取码：ov5d</p>
<p>具体位置： <code>12_多媒体应用示例源码\06_sample_venc_100ask</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1视频编码架构">1.视频编码架构<a href="#1视频编码架构" class="hash-link" aria-label="Direct link to 1.视频编码架构" title="Direct link to 1.视频编码架构">​</a></h2>
<p><img loading="lazy" alt="image-20241106175525675" src="/en/assets/images/image-20241106175525675-dadd4142f6d4c0940bf65bf07e9b51e9.png" width="808" height="243" class="img_ev3q"></p>
<p>典型的编码流程包括了输入图像的接收、图像内容的遮挡和覆盖、图像的编码、以及码流的输出等过程。</p>
<p>编码模块由VENC接收通道、编码通道、2D接收通道、2D运算模块组成。编码能力和2D运算能力见下表。</p>
<p>编码数据流程图中的绿色箭头所示路径，为单独做2D运算的流程。蓝色箭头所示路径为单独做编码运算的流程。紫色箭头所示路径为先做2D运算再进行编码的流程。</p>
<p>表 1-1 编码能力</p>
<table><thead><tr><th></th><th>H264</th><th>HEVC</th><th>JPEG</th></tr></thead><tbody><tr><td>输入格式</td><td>YUV420 NV12 8bit, ARGB8888, BGRA8888</td><td>YUV420 NV12 8bit, ARGB8888, BGRA8888</td><td>YUV420 NV12 8bit, YUV422 UYVY 8bit, ARGB8888, BGRA8888</td></tr><tr><td>输出格式</td><td>YUV420 H.264 Baseline Profile(BP) ; H.264 Main Profile(MP) ; H.264 High Profile(HP); H.264 High 10 Profile(HP)</td><td>YUV420 HEVC (H.265) Main ; HEVC (H.265) Main 10 Profile</td><td>YUV420 and YUV422 JPEG baseline sequential</td></tr><tr><td>最大分辨率</td><td>3840x2160</td><td>3840x2160</td><td>8192x8192</td></tr><tr><td>码率控制模式</td><td>CBR/VBR/FIXQP</td><td>CBR/VBR/FIXQP</td><td>FIXQP</td></tr><tr><td>GOP</td><td>I/P帧</td><td>I/P帧</td><td>-</td></tr><tr><td>编码通道</td><td>4路</td><td>4路</td><td>4路</td></tr></tbody></table>
<p>注意：H264/HEVC/JPEG共用4路。</p>
<p>表1-2 2D运算能力</p>
<table><thead><tr><th>video输入格式</th><th>video输出格式</th><th>叠加数据格式</th><th>最大分辨率</th></tr></thead><tbody><tr><td>I420/NV12/ARGB8888/BGRA8888</td><td>同输入格式</td><td>ARGB8888/ARGB4444/ARGB1555</td><td>3840x2160</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-编码通道">1.1 编码通道<a href="#11-编码通道" class="hash-link" aria-label="Direct link to 1.1 编码通道" title="Direct link to 1.1 编码通道">​</a></h3>
<p>编码通道作为基本容器，保存编码通道的多种用户设置和管理编码通道的多种内部资源。编码通道完成图像叠加和编码的功能。2D模块实现图像叠加运算，编码器模块实现图像编码，两者既可以单独使用，也可以协同使用。</p>
<p><img loading="lazy" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/2wBDAQMDAwQDBAgEBAgQCwkLEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBD/wAARCABYAggDASIAAhEBAxEB/8QAHQABAQACAwEBAQAAAAAAAAAAAAcGCAQFCQMCAf/EAD8QAAAFAwEEBwcBCAAHAQAAAAABAgMEBQYHEQgSWNUTFBcYIZWXFiIxVleW03cVIzc4QVG1tgklMjRCUmJh/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/APVMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE+z1VK7R8U1ybb1CcrMncaadgNsS3lyI63UpeQlERh98zNs1l7jSjL4+HxLzwu/L8NvJ0ypVvJtWhVhFRlRmHmKhOpsiLHN8jNqNDl3fCU22fRo3Wv2duGaEoNDy0K19Pbktuj3bR36BX4ypMCVoT7HSrQh5JHqaHCSZb7atNFNq1QtJmlRKSZkc1ibL+NqTZK7EtpyqUOButtsrgrZJcdpLDTC20JW0pskuIa0VqgzI1rNBoPd3Qj7j0u6ryv9mk4/zZUnjqzJxYkfIkyntzILDrCZi4KDrMfqzm+8aiSomGzb3Nzf8Un9Yd33TQbCkU122L0oS6LNuKNMbuC+5EuoxnOoOTYrC1tyJPWWVR9w+lKa06ytJdGaSNRlX6jsvYer1x1m5Lst9VzqrhKN6n3CpNUpsdwybJLkeHJSthhZdEn3kII1ama989NOpp+ydZ9MtWDbEO97tYOmOyJEOVFOnxENOuspj6nBjxG6e4hMdJspaciqaJK1GaDWe+A1K2Vsl3RcGVJtsxsjyruck0mdCahyshSHSWaIvTE+So9z1ZTKjWomzeREUlBII0uIc3m1ZHlDIOdpFwvyrUv/ACr+yJFApsqexA6w8ltTkVEhKGH6faM1phRG4rfWt5LjmpapbbJBDaOBs+1SPWGaxVc+ZBqxsqfdJl6Hb8ZCnXYxxzdUuJTGXDWTR6JPf8N1P9iGEXJsHYvuac1LqF0VV9uLHahQmqlbVr1l2LFaTutMFLqdJkzHUILwI3n3Ff8A0AvFiuy5FlUGTOqk2pSH6bHedlzeh6w8pTaVGpzoGmmt49fHcbQn+ySLwHejg0KlnRKLBoxz35vUY7cfrD7bLbjpISRbyksobaSZ6fBCEpL+iSLwHOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABh98YbxDk2VGn5JxXZ92SYTZsxnq5Q4s9bCDPU0oU8hRpIz8dC8NRjXdO2WOGnFX2bTvwiqgAlXdO2WOGnFX2bTvwh3TtljhpxV9m078I7XaFumu2NgLJd62tO6lWrfs+s1SnSeiQ50EpiE6405uLJSFbq0JPRRGk9NDIy8B1XY3kXixyr5bavJgDunbLHDTir7Np34Q7p2yxw04q+zad+EOxvIvFjlXy21eTB2N5F4scq+W2ryYA7p2yxw04q+zad+EO6dsscNOKvs2nfhDsbyLxY5V8ttXkwdjeReLHKvltq8mAO6dsscNOKvs2nfhDunbLHDTir7Np34Q7G8i8WOVfLbV5MHY3kXixyr5bavJgDunbLHDTir7Np34Q7p2yxw04q+zad+EOxvIvFjlXy21eTB2N5F4scq+W2ryYA7p2yxw04q+zad+EO6dsscNOKvs2nfhGFZvtDLWNcL39kahbVOSn6latr1Wtw2pdLtdTDj8aI482lxKaQlRoNSCIyJST010MviNigEq7p2yxw04q+zad+EO6dsscNOKvs2nfhFVABKu6dsscNOKvs2nfhDunbLHDTir7Np34QzpULv8A2tjC0rSvuq2l7W3g9S6jUaXGhPSuqt0OqzSbQU2O+0nV6GxqfRmrdIyIy1DsbyLxY5V8ttXkwB3TtljhpxV9m078Id07ZY4acVfZtO/CHY3kXixyr5bavJg7G8i8WOVfLbV5MAd07ZY4acVfZtO/CHdO2WOGnFX2bTvwh2N5F4scq+W2ryYOxvIvFjlXy21eTAHdO2WOGnFX2bTvwh3TtljhpxV9m078IdjeReLHKvltq8mDsbyLxY5V8ttXkwB3TtljhpxV9m078Id07ZY4acVfZtO/CHY3kXixyr5bavJg7G8i8WOVfLbV5MAd07ZY4acVfZtO/CHdO2WOGnFX2bTvwjH6tSck41yTixl7Pt63VTbquiXRKlTa3T6ElhxhNCqkxKkqh06O8laXoTJkZOaabxGR6i6gJV3TtljhpxV9m078Id07ZY4acVfZtO/CKqADGbHxljbGUWTBxtj22rTjTXCeks0Okx4CH1kWhKWllCSUZF4an46DJgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGumVtrOrYvuu9KGvENUnQbXp8J1mqza9Q6PTXZL5q3SdmTag30bajUygi6I3CVvapMjRrsWNPs/bOuXbxyJdF42NSk06LNiwiQuDdVWffqjrbqFKX1VNQpzEFxCWiR+7dX0iVEfSt++hYXXDmRb8vekyUXtYn7DqjLDcyMo58BTUyO7vdCs24kyWbJHuK0PfcSpJEolamppvJrEviDfNvu1eM201Kgy5NNqMVuQTxRZsdw23mt8iLeIlJ1JWhGaTSZpSZ6FGsY2Nlqx2K1S6Tar8OZUo9MpbdVqD8Tq8Y0ofckS0NtSHHHUNm6SEJUTa3HC8SQ3q6KFBseo4zm0v2ApTtSosiOxS6xDVJSUhJoLdbqKVOGROuFqZPJNRKWjdUnVTZNuBCl7ct5uXJIt2m4ptWoKixoUmQ9T7guCpIgnMVpHjy1wLekNxpCiNBm2tehb6dFKGcXrtQ1m0rUptRfs5lVwvtT+u0impnVgmHGphQWVJVHjE+plUlaVKc6uSujQskoNZpScCq2Ns3yq1aNbpezPk2v0+nsRmn2ZV20GnPQTJom35ECRMlS5sM1p8UtwjpSkbpbxms95FAvXCd4X1jklUvGFSZlXDGq9KrlLqqYz0t2G9V0uNxZTip7Jkno+lWb7EhxSfFaOmNRJWFU2cdoarZganUW9bQXb1xU9SyQTNNrTMKpMtdGh+QwupU+Iad19am1M++tBp94/EjO3jVfYz2bK5hSNGrlQs6l2ymVSDpblKVApCKnFJt7eaVJmwWDVPcUkySpxUgi/cpX0e+6om9qAAAHGmVOm05cVqoVCNFXOfKNFS86lBvvGlSibQRn7yt1Cz3S1PRJn/QwHJAAAAAAAAAAAAASrax/lYzJ+n9w/wCOfFVEq2sf5WMyfp/cP+OfFVAAAT3NDNWZthyux8xVTHtNpLLsiVMpcCDIkSHDIktN6zWH2901GZdGhrpFrNskrT4pWFCAa40OVm3JV7Q7YruUrjx3Nh2HSKxPg0Gn0h0jqUl6Sh43OvQ5KiIuhTohCkkXiWp/EcinZHvu8KJQmEUZ2VWp8St0eZKRWDpVCnvw33GHC6dlxyZBePoDeQ83HcJKTWg17xpUkNhgGqeFqRfc25qe+u0pluFU6c/Jbfl5zumvSUQVmppMyPAqUI4b6tejWknFEpBONqWlJqJJ6i165YsSo3FbDmZHIUJi4pziKfJvqMRxXWZKybUlMi+4rrbiXkFI3jjML6Uz1SSNGyD1mATPZtipZwhZ8w6rVak/UqXHnyJVSrMqpvPPONpNaumkyH17pn4klLqkJ10SegpgCVbWP8rGZP0/uH/HPiqiVbWP8rGZP0/uH/HPiqgAAACVZk/iLgn9QJn+q14VUSrMn8RcE/qBM/1WvCqgAANdtqHN0vHNaptr0qqt0usS7fq9YpLztbhxG3pTDO4SDYcWp2SpCXDWhlLDiFrJJqNJNmYDYkBoHiXNGTpGTKVHuzMN1u0OqS1uVlFSKe7FeY6moiTHc9j6e3H1/crStua0gzPeLfUv3sotGpWjUbZp9QrNA2hotLmVlcqSabquyrzSgPR33IK2U0moSJDbSiShJlISgyUSt9CVGgwG6gDQfL2SynY1x9b9pXhkKnVdxmppVS36vNjVx1/pCLoOrTK/R6rNfaVqhvwlJX8N1SjSZ/zEuVL/AGdqWCxkh667aKrvEmNblw3XGZmLU60pok/s964jbcjEaEuIdjU1Ti176SP3FKWG/IAACVZk/iLgn9QJn+q14VUSrMn8RcE/qBM/1WvCqgAAAAAAAAAAAm+dcsVTENs0yuUixqvdD9RrMOmdWpvVd9tDi/fWZSJDBf8AQlZJMlHoo0moiQSjKkCO7UOMrnyrYUS3rRpEaVUWqmxIblu3JPpK6cRGaVSWyhmhcpSUqVqwp5glEZ6OpUSQGKWHtP3zft9VGJAxETNrUmpJos95F127MkwpSlJQXTnFqjnRPdKo2+qG3vaJNZOmsyYOw03IMOrzqBHgU57oK6U/dceUSFtHFUST1SWpHvHrp7xaERf30LWLHOA8v2xc3W7jotUqHSXXFkNyUykrYYhpldYceV1uqyXUNESd1KGUp1Wv/t0ESnV86qbMNwVG541eqmyPs1V95h6c5Nmzaj0D9ZW8vVMiQ2mgLSlzwNRlvOe8pXvH8TCyVbLt6SapbJWLZNvVGj3BSn6s9Iq9yPU+XCZZIt9So7UKQlSdVtp16Uj3laaaFqONbGXclTk1D2osKzIS2oFOn04qZeUiSU3rjqktsmqXTopNPKSgzbQeu8o0pUbeu8UyrWBsg1iu45uVGI7CZrNGgtwpc6Q80+1baWppKabgR0NNk8z0JqQskKiGpr46qPoy49n4Guyy7ruI6ThKwqbu0lyjt1W1bMpVAg1ZuU/EM1dVVUJa3+gQ2+o+skyRme6lC941AKMe0hcyrsm0NnZ0vh2lwpyaSdWKtW4ht2epw0ky2lypp3/dIj0JRukZ7qmkqHb5E2krExpXo9Ar8Ssm65UWYDz0elyZTbRKZJ5xZnGbdMiaStk1mskJLpU6KPRWkmuXZ7jtyWr+a2U8e1yqypb9Ul01u27eVNNx2UZtIckPJbSp1CFJW6tLp6mlzcW4e7vZHeWz7e90UCmS5FTgN3BIqVTkVY4sbpmktTNCI0Et1ozNplllok73xMj1MknvBlNE2o7BujNr+E7SXCuKZGa35FQpNyUd5ERaSc6Zp+KqWmZvNqbJKuiYdJJuJ3t3Q9LKIBjO0cwQbqok667UKFbcWU5Jp7RVdp+fC6WPIJaZsZP7hn33zI1RpMreMmy3SI1LTfwAB8J06FTIUipVKYxEiRGlvyJD7hNtstpIzUtaj0JKSIjMzPwIiH0adafaQ+w4lxtxJLQtBkaVJMtSMjL4kA/YAADj1BqY/Aks06WiLLcZWlh9bXSpacNJklZo1LeIj0Pd1LXTTUviJl7H7Sf10sz0/d5mKqACVex+0n9dLM9P3eZh7H7Sf10sz0/d5mKqACVex+0n9dLM9P3eZh7H7Sf10sz0/d5mKqACVex+0n9dLM9P3eZj8ps3aUSWh52s5XiZ6qsB3XxP4eFSLwL4F/8Anx1PxFXABKvY/aT+ulmen7vMw9j9pP66WZ6fu8zFVABKvY/aT+ulmen7vMxrZt/Yv2hLuwIVpqrtOyBWKrXYDNCp1CsR+PKjziUpfWutFOdTFShlL+rqkbuit0zTvbxb0AA1g2G8W7W+M7LXD2m8qxbhbWwhNNo6y65Npx6kZ9NP1/eaFqnc/eEXgZOFpujZ8AAAAAAAAAAAASrax/lYzJ+n9w/458VUSrax/lYzJ+n9w/458VUAE+yfiFWS6pb1ZZyNdFrSraedkwzo7VNebU8tO70q258SSjpEp3iQtKUqSS16H7xiggAk9YwPVKjX2brpmd8hUOtnRI9Dnz4DFEUupNMrcWh11L9OcQh3eecMzZS0nx8EloQ4V27O71SodJt2yb+mW5S6DTZUGJTnIvWo8xyShbch2c6Tjcx01JWZkbEmOvfUpSlr1IisoANeLG2Y7qtm56fcNbuXHlRfjMOw5NXi2nWGbkkRVtqQbP7akVyRK3S3i0Jw3CTup3SSaUKT96Nsg0OmWxUaU5lHJKKnLN5UWTAv+5Y0SnqUR7vQxjqazURH76ukdWalqWeqUmSE7AAAx2wrDt7GttR7StY6p+zopmbSajV5lSdRr/4k9Ldcc3S/one3S/oRDIgABKtrH+VjMn6f3D/jnxVRKtrH+VjMn6f3D/jnxVQAAABKsyfxFwT+oEz/AFWvCqiVZk/iLgn9QJn+q14VUAGAZVxFGywxCg1W77hp8CLJjyHIFPnORo8km3SWtLxMmhTyXEatqbdUtndPXo98iWWfgA1yt/YnxzaN8WhflqU61qfVKFJKXVZibWYKbUHSaSjeZkNrQqOalpNThqJ41k44Xgat4dnD2TLYVb1Up16u23kWouNNpoki97Qg1KPRlIQpKUNsNk0a2S1L3TcJ0yLRTyvAyvQANbLu2LaLkKyaPad3XbAS5THKrKUunWhS1w+sTVpUXQRKi1MRGabJO6kkH0pF8Hk+OvfWtsoW9a+ZEZraubp6wb6lus+z9Lb32jhJjEjraI5Tj03SXouStv8AoTZaJNN1AAAAASrMn8RcE/qBM/1WvCqiVZk/iLgn9QJn+q14VUAAAAAAAAAABN65a2e5VXmSbezDa1PprrylRYsmynJTrLZn4IU6U9slmX/tuJ1/sOF7H7Sf10sz0/d5mKqACVex+0n9dLM9P3eZh7H7Sf10sz0/d5mKqACVex+0n9dLM9P3eZh7H7Sf10sz0/d5mKqACUFZu0oSjV27WcepEW77AO6F8fEv+Za6nr/f+hfDx1/XsftJ/XSzPT93mYqoAJV7H7Sf10sz0/d5mHsftJ/XSzPT93mYqoAIPke1s6Rse3PIurLFp1qit0eaqpU1jGz8lybF6FfSsJaTUtXDWjeSSS8T10Gqf/Dl2etuzHUqBWL5vdyzscKX0yrPrSTmynmj8d1phR6wddTIzNSVkZFq2oh6SAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADH8hWVSslWBcuOa7IlsU26qPNokx2ItKX22JLK2XFNqUlSSWSVmZGaVFrpqR/AYV2N5F4scq+W2ryYVUAEq7G8i8WOVfLbV5MHY3kXixyr5bavJhVQASrsbyLxY5V8ttXkwdjeReLHKvltq8mFVABKuxvIvFjlXy21eTB2N5F4scq+W2ryYVUAEq7G8i8WOVfLbV5MHY3kXixyr5bavJhVQARS7NnK6L5tWs2VdO1HlWbRbgp8il1GN1K2G+nivtqbdb30UdK07yFqLVJkotdSMj8RawAAAAAYVk7GLeSm7ceZvS4LVqVq1g63TalREwlPtvqhSoakqTMjyGVIUzNeIyNvXXdMjLQY/2N5F4scq+W2ryYVUAEq7G8i8WOVfLbV5MHY3kXixyr5bavJhVQASrsbyLxY5V8ttXkwdjeReLHKvltq8mFVABKuxvIvFjlXy21eTB2N5F4scq+W2ryYVUAEq7G8i8WOVfLbV5MHY3kXixyr5bavJhVQASqn4Lq3tfbF23bnbIF2+yVQeqlOp1Uj0NmL1pyFJhG4s4VOYdVozMf0LpCTvGRmR6CqgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAw++MqWxj6VGh16l3hKcltm62dDs2r1pCSI9DJa4EZ5LZ//KzIzLxItBjXeWx18uZV9J7q5cAAHeWx18uZV9J7q5cHeWx18uZV9J7q5cAAHeWx18uZV9J7q5cHeWx18uZV9J7q5cAAHeWx18uZV9J7q5cHeWx18uZV9J7q5cAAHeWx18uZV9J7q5cHeWx18uZV9J7q5cAAHeWx18uZV9J7q5cHeWx18uZV9J7q5cAAHeWx18uZV9J7q5cHeWx18uZV9J7q5cAAHeWx18uZV9J7q5cHeWx18uZV9J7q5cAAHeWx18uZV9J7q5cHeWx18uZV9J7q5cAAHeWx18uZV9J7q5cHeWx18uZV9J7q5cAAHeWx18uZV9J7q5cHeWx18uZV9J7q5cAAHeWx18uZV9J7q5cHeWx18uZV9J7q5cAAHeWx18uZV9J7q5cHeWx18uZV9J7q5cAAHeWx18uZV9J7q5cHeWx18uZV9J7q5cAAHeWx18uZV9J7q5cHeWx18uZV9J7q5cAAMvsfIVByDFkzKDAuWK3EcJpwq5bFSoq1GZakaET2GVOF/dSCMiPwM9RkwAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//2Q==" alt="encode channel" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2应用层程序编译与解析">2.应用层程序编译与解析<a href="#2应用层程序编译与解析" class="hash-link" aria-label="Direct link to 2.应用层程序编译与解析" title="Direct link to 2.应用层程序编译与解析">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-新增程序">2.1 新增程序<a href="#21-新增程序" class="hash-link" aria-label="Direct link to 2.1 新增程序" title="Direct link to 2.1 新增程序">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="211-新建工程文件夹">2.1.1 新建工程文件夹<a href="#211-新建工程文件夹" class="hash-link" aria-label="Direct link to 2.1.1 新建工程文件夹" title="Direct link to 2.1.1 新建工程文件夹">​</a></h4>
<p>在k230_sdk/src/big/mpp/userapps/sample目录下新建工程</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir sample_venc_100ask</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="212-修改makefile">2.1.2 修改Makefile<a href="#212-修改makefile" class="hash-link" aria-label="Direct link to 2.1.2 修改Makefile" title="Direct link to 2.1.2 修改Makefile">​</a></h4>
<p>修改k230_sdk/src/big/mpp/userapps/sample目录下的Makefile文件，新增sample_venc_100ask工程的编译规则</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@cd sample_venc_100ask; make || exit 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img loading="lazy" alt="image-20241018211707565" src="/en/assets/images/image-20241018211707565-eb4a43a1af53be0d4a4bbc7747f64c75.png" width="706" height="240" class="img_ev3q"></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@cd sample_venc_100ask; make clean</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img loading="lazy" alt="image-20241018211812935" src="/en/assets/images/image-20241018211812935-0a605d47f884be053f473b0474556835.png" width="627" height="215" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="213-进入工程目录">2.1.3 进入工程目录<a href="#213-进入工程目录" class="hash-link" aria-label="Direct link to 2.1.3 进入工程目录" title="Direct link to 2.1.3 进入工程目录">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd sample_venc_100ask/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="214-新建源码文  件">2.1.4 新建源码文件<a href="#214-新建源码文件" class="hash-link" aria-label="Direct link to 2.1.4 新建源码文件" title="Direct link to 2.1.4 新建源码文件">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vi sample_venc_100ask.c</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>填入源码。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="215-新建makefile文件">2.1.5 新建Makefile文件<a href="#215-新建makefile文件" class="hash-link" aria-label="Direct link to 2.1.5 新建Makefile文件" title="Direct link to 2.1.5 新建Makefile文件">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vi Makefile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>填入一下内容：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">include $(MPP_SRC_DIR)/userapps/sample/mpp.mk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">include $(MPP_SRC_DIR)/userapps/sample/rt-smart.mk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CURRECT_DIR_NAME=$(shell basename `pwd`)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LOCAL_SRC_DIR = $(shell pwd)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BIN = $(MPP_SRC_DIR)/userapps/sample/elf/$(CURRECT_DIR_NAME).elf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LIBPATH = $(MPP_LIB_PATH)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LIBS = $(MPP_LIBS)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LOCAL_CFLAGS = -I$(LOCAL_SRC_DIR)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SRCS = $(wildcard $(LOCAL_SRC_DIR)/*.c)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OBJS = $(patsubst %.c,%.o,$(SRCS))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">all: $(BIN)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        @-rm -f $(OBJS)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo &quot;${PWD}/Makefile all&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$(OBJS): %.o : %.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        @$(CC) $(CC_CFLAGS) $(LOCAL_CFLAGS) $(BSP_CFLGAS) $(RTSMART_CFLAGS) $(MPP_USER_CFLGAS) -c $&lt; -o $@</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$(BIN): $(OBJS)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $(CC) -o $(BIN) $(LINKFLAG) -Wl,--whole-archive -Wl,--no-whole-archive -n --static $(OBJS) -L$(LIBPATH) -Wl,--start-group $(LIBS) -Wl,--end-group</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clean:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo &quot;${PWD}/Makefile clean&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -rm -rf $(BIN)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -rm -f $(OBJS)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.PHONY: all clean</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-程序编译">2.2 程序编译<a href="#22-程序编译" class="hash-link" aria-label="Direct link to 2.2 程序编译" title="Direct link to 2.2 程序编译">​</a></h3>
<p>1.进入K230SDK目录</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/k230_sdk</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>2.下载toolchain和准备源码</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">source tools/get_download_url.sh &amp;&amp; make prepare_sourcecode</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>3.挂载工具链目录</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo mount --bind $(pwd)/toolchain /opt/toolchain</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>4.配置板级型号</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">make CONF=k230_canmv_dongshanpi_defconfig prepare_memory	</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>5.编译程序</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">make mpp-apps</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>等待编译完成，编译完成后，可执行程序<code>sample_venc_100ask.elf</code>会生成在<code>k230_sdk/src/big/mpp/userapps/sample/elf</code>目录下。</p>
<p>使用ADB将可执行程序传输至开发板中</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">adb push src/big/mpp/userapps/sample/elf/sample_venc_100ask.elf /sharefs/app</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-程序运行">2.3 程序运行<a href="#23-程序运行" class="hash-link" aria-label="Direct link to 2.3 程序运行" title="Direct link to 2.3 程序运行">​</a></h3>
<p>使用串口软件访问开发板的大核串口终端。</p>
<blockquote>
<p>如果没有关闭开机自启程序，可按下q+回车键可退出开机自启程序。</p>
</blockquote>
<p>1.进入可执行文件目录</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd /sharefs/app</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>2.运行程序</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sample_venc_100ask.elf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>执行完成后效果如下所示：</p>
<p><img loading="lazy" alt="image-20241021102839994" src="/en/assets/images/image-20241021102839994-51a014ec7f95a42d0e7a368e07de65de.png" width="762" height="508" class="img_ev3q"></p>
<p>3.输入<code>q</code>并按下回车即可退出程序。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="24-程序解析">2.4 程序解析<a href="#24-程序解析" class="hash-link" aria-label="Direct link to 2.4 程序解析" title="Direct link to 2.4 程序解析">​</a></h3>
<p>代码流程图如下所示：</p>
<p><img loading="lazy" alt="image-20241024154711051" src="/en/assets/images/image-20241024154711051-267be4599fccc7a5b26bc73fae799b4a.png" width="342" height="766" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="241-初始化视频输入设备">2.4.1 初始化视频输入设备<a href="#241-初始化视频输入设备" class="hash-link" aria-label="Direct link to 2.4.1 初始化视频输入设备" title="Direct link to 2.4.1 初始化视频输入设备">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 初始化视频输入设备属性结构体</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">memset(&amp;dev_attr, 0, sizeof(k_vicap_dev_attr));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 初始化视频输入通道属性结构体</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">memset(&amp;chn_attr, 0, sizeof(k_vicap_chn_attr));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 初始化传感器信息结构体</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">memset(&amp;sensor_info, 0, sizeof(k_vicap_sensor_info));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 设置传感器类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sensor_info.sensor_type = GC2093_MIPI_CSI2_1920X1080_30FPS_10BIT_LINEAR;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ret = kd_mpi_vicap_get_sensor_info(sensor_info.sensor_type, &amp;sensor_info);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="242-设置视频输入设备属性">2.4.2 设置视频输入设备属性<a href="#242-设置视频输入设备属性" class="hash-link" aria-label="Direct link to 2.4.2 设置视频输入设备属性" title="Direct link to 2.4.2 设置视频输入设备属性">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dev_attr.acq_win.width = sensor_info.width;   // 480</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dev_attr.acq_win.height = sensor_info.height; // 800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dev_attr.mode = VICAP_WORK_ONLINE_MODE;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="243-初始化视频输入设备">2.4.3 初始化视频输入设备<a href="#243-初始化视频输入设备" class="hash-link" aria-label="Direct link to 2.4.3 初始化视频输入设备" title="Direct link to 2.4.3 初始化视频输入设备">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ret = kd_mpi_vicap_init(vicap_dev);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="244-初始化视频缓冲区">2.4.4 初始化视频缓冲区<a href="#244-初始化视频缓冲区" class="hash-link" aria-label="Direct link to 2.4.4 初始化视频缓冲区" title="Direct link to 2.4.4 初始化视频缓冲区">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sample_vb_init(K_FALSE); </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="245-设置视频输入通道属性">2.4.5 设 置视频输入通道属性<a href="#245-设置视频输入通道属性" class="hash-link" aria-label="Direct link to 2.4.5 设置视频输入通道属性" title="Direct link to 2.4.5 设置视频输入通道属性">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">attr.venc_attr.pic_width = width;  // 宽</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">attr.venc_attr.pic_height = height; // 高</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">attr.venc_attr.stream_buf_size = STREAM_BUF_SIZE; // 流缓冲区大小</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">attr.venc_attr.stream_buf_cnt = OUTPUT_BUF_CNT;  // 流缓冲区数量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">attr.rc_attr.rc_mode = rc_mode;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">attr.rc_attr.cbr.src_frame_rate = 30;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">attr.rc_attr.cbr.dst_frame_rate = 30;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">attr.rc_attr.cbr.bit_rate = bitrate;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">attr.venc_attr.type = type;   // 编码类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">attr.venc_attr.profile = profile;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="246-创建视频编码器通道">2.4.6 创建视频编码器通道<a href="#246-创建视频编码器通道" class="hash-link" aria-label="Direct link to 2.4.6 创建视频编码器通道" title="Direct link to 2.4.6 创建视频编码器通道">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ret = kd_mpi_venc_create_chn(ch, &amp;attr);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="247-启动编码器通道">2.4.7 启动编码器通道<a href="#247-启动编码器通道" class="hash-link" aria-label="Direct link to 2.4.7 启动编码器通道" title="Direct link to 2.4.7 启动编码器通道">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ret = kd_mpi_venc_start_chn(ch);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="248-绑定视频输入和编码器">2.4.8 绑定视频输入和编码器<a href="#248-绑定视频输入和编码器" class="hash-link" aria-label="Direct link to 2.4.8 绑定视频输入和编码器" title="Direct link to 2.4.8 绑定视频输入和编码器">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">static void sample_vi_bind_venc(k_u32 chn_id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    k_mpp_chn venc_mpp_chn;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    k_mpp_chn vi_mpp_chn;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    k_s32 ret;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#ifdef ENABLE_VDSS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vi_mpp_chn.mod_id = K_ID_VICAP;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vi_mpp_chn.mod_id = K_ID_VI;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#endif</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    venc_mpp_chn.mod_id = K_ID_VENC;  // 视频编码器通道模块ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    venc_mpp_chn.dev_id = 0;	      // 视频编码器通道设备ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    venc_mpp_chn.chn_id = chn_id;     // 视频编码器通道ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vi_mpp_chn.dev_id = chn_id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vi_mpp_chn.chn_id = chn_id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret = kd_mpi_sys_bind(&amp;vi_mpp_chn, &amp;venc_mpp_chn);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (ret)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        printf(&quot;kd_mpi_sys_bind failed:0x%x\n&quot;, ret);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="249-启动视频输入设备">2.4.9 启动视频输入设备<a href="#249-启动视频输入设备" class="hash-link" aria-label="Direct link to 2.4.9 启动视频输入设备" title="Direct link to 2.4.9 启动视频输入设备">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void sample_vicap_start(k_u32 ch)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#ifdef ENABLE_VDSS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    k_s32 ret;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret = kd_mpi_vdss_start_pipe(0, ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CHECK_RET(ret, __func__, __LINE__);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    k_s32 ret;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret = kd_mpi_vicap_start_stream(VICAP_DEV_ID_0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CHECK_RET(ret, __func__, __LINE__);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#endif</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2410-创建输出线程">2.4.10 创建输出线程<a href="#2410-创建输出线程" class="hash-link" aria-label="Direct link to 2.4.10 创建输出线程" title="Direct link to 2.4.10 创建输出线程">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pthread_create(&amp;g_venc_conf.output_tid, NULL, output_thread, &amp;info);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/100askTeam/eLinuxAI-TrainingDocs/tree/main/docs/CanaanK230/part2/part1/07_CameraExperimentEncodingVideoStream.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/en/CanaanK230/part2/part1/AchieveRealTimePreviewCameraDisplay"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">实现摄像头的显示屏实时预览</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/en/CanaanK230/part2/part1/DisplayExperimentDecodingDisplay"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">显示屏实验-解码显示</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1视频编码架构" class="table-of-contents__link toc-highlight">1.视频编码架构</a><ul><li><a href="#11-编码通道" class="table-of-contents__link toc-highlight">1.1 编码通道</a></li></ul></li><li><a href="#2应用层程序编译与解析" class="table-of-contents__link toc-highlight">2.应用层程序编译与解析</a><ul><li><a href="#21-新增程序" class="table-of-contents__link toc-highlight">2.1 新增程序</a></li><li><a href="#22-程序编译" class="table-of-contents__link toc-highlight">2.2 程序编译</a></li><li><a href="#23-程序运行" class="table-of-contents__link toc-highlight">2.3 程序运行</a></li><li><a href="#24-程序解析" class="table-of-contents__link toc-highlight">2.4 程序解析</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://dongshanpi.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">DongshanPI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://canaan-docs.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Canaan-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://renesas-docs.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Renesas-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://rtos.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">RTOS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://tina.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">TinaSDK-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://allwinner-docs.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Allwinner-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://aw-r128.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">R128-Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://space.bilibili.com/275908810" target="_blank" rel="noopener noreferrer" class="footer__link-item">BiliBili<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forums.100ask.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://video.100ask.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">VideoCenter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/dongshanpi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://weidongshan.coding.net/public/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Coding<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/100askTeam" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitee.com/weidongshan" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 100askTeam, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>