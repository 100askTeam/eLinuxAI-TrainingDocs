"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[203],{4791:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>p,frontMatter:()=>l,metadata:()=>c,toc:()=>t});var s=i(5893),d=i(1151);const l={sidebar_position:1},r="K230 SDK\u73af\u5883\u642d\u5efa",c={id:"CanaanK230/DshanPI-CanMVK230SDKEnvironmentConstruction",title:"K230 SDK\u73af\u5883\u642d\u5efa",description:"\u524d\u63d0\u6761\u4ef6",source:"@site/docs/CanaanK230/01-DshanPI-CanMVK230SDKEnvironmentConstruction.md",sourceDirName:"CanaanK230",slug:"/CanaanK230/DshanPI-CanMVK230SDKEnvironmentConstruction",permalink:"/en/CanaanK230/DshanPI-CanMVK230SDKEnvironmentConstruction",draft:!1,unlisted:!1,editUrl:"https://github.com/100askTeam/eLinuxAI-TrainingDocs/tree/main/docs/CanaanK230/01-DshanPI-CanMVK230SDKEnvironmentConstruction.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"canaanK230Sidebar",next:{title:"1.\u7cfb\u7edf\u5f00\u53d1\u4e0a\u624b\u6307\u5357",permalink:"/en/category/1\u7cfb\u7edf\u5f00\u53d1\u4e0a\u624b\u6307\u5357"}},o={},t=[{value:"\u524d\u63d0\u6761\u4ef6",id:"\u524d\u63d0\u6761\u4ef6",level:2},{value:"1.\u914d\u7f6eSDK\u73af\u5883",id:"1\u914d\u7f6esdk\u73af\u5883",level:2},{value:"2.1 \u66f4\u65b0\u6e05\u534e\u6e90",id:"21-\u66f4\u65b0\u6e05\u534e\u6e90",level:3},{value:"2.2 \u4f7f\u7528apt\u5b89\u88c5\u8f6f\u4ef6\u5305",id:"22-\u4f7f\u7528apt\u5b89\u88c5\u8f6f\u4ef6\u5305",level:3},{value:"2.3 \u4fee\u6539pip\u4e3a\u6e05\u534e\u6e90",id:"23-\u4fee\u6539pip\u4e3a\u6e05\u534e\u6e90",level:3},{value:"2.4 \u4f7f\u7528pip\u5b89\u88c5\u8f6f\u4ef6",id:"24-\u4f7f\u7528pip\u5b89\u88c5\u8f6f\u4ef6",level:3},{value:"2.5 \u5b89\u88c5\u5fae\u8f6f\u8f6f\u4ef6\u5305",id:"25-\u5b89\u88c5\u5fae\u8f6f\u8f6f\u4ef6\u5305",level:3},{value:"2.6 \u5b89\u88c5\u78c1\u76d8\u955c\u50cf\u5de5\u5177",id:"26-\u5b89\u88c5\u78c1\u76d8\u955c\u50cf\u5de5\u5177",level:3},{value:"2.7 \u6e05\u7406\u7f13\u5b58",id:"27-\u6e05\u7406\u7f13\u5b58",level:3},{value:"2.8 \u8bbe\u7f6e\u7cfb\u7edf\u9ed8\u8ba4\u8bed\u8a00\u548c\u5b57\u7b26\u7f16\u7801",id:"28-\u8bbe\u7f6e\u7cfb\u7edf\u9ed8\u8ba4\u8bed\u8a00\u548c\u5b57\u7b26\u7f16\u7801",level:3},{value:"2.9 \u521b\u5efa\u5de5\u5177\u94fe\u8def\u5f84",id:"29-\u521b\u5efa\u5de5\u5177\u94fe\u8def\u5f84",level:3},{value:"2.\u4e0b\u8f7dSDK",id:"2\u4e0b\u8f7dsdk",level:2},{value:"3.\u7f16\u8bd1SDK",id:"3\u7f16\u8bd1sdk",level:2},{value:"3.1 \u8fdb\u5165SDK\u6839\u76ee\u5f55",id:"31-\u8fdb\u5165sdk\u6839\u76ee\u5f55",level:3},{value:"3.2 \u4e0b\u8f7dtoolchain",id:"32-\u4e0b\u8f7dtoolchain",level:3},{value:"3.3 \u6302\u8f7d\u5de5\u5177\u94fe\u76ee\u5f55",id:"33-\u6302\u8f7d\u5de5\u5177\u94fe\u76ee\u5f55",level:3},{value:"3.4 \u7f16\u8bd1SDK",id:"34-\u7f16\u8bd1sdk",level:3}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,d.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"k230-sdk\u73af\u5883\u642d\u5efa",children:"K230 SDK\u73af\u5883\u642d\u5efa"}),"\n",(0,s.jsx)(n.h2,{id:"\u524d\u63d0\u6761\u4ef6",children:"\u524d\u63d0\u6761\u4ef6"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Ubuntu20.04\uff1a",(0,s.jsx)(n.a,{href:"https://www.linuxvmimages.com/images/ubuntu-2004/",children:"\u865a\u62df\u673a\u4e0b\u8f7d\u5730\u5740\uff0c\u9ed8\u8ba4\u7528\u6237\u540d\u4e3aubuntu,\u5bc6\u7801\u4e3aubuntu"})]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\u5982\u679c\u6ca1\u6709Ubuntu\u73af\u5883\u53ef\u4ee5\u4f7f\u7528\u865a\u62df\u673a\uff0cvmware\u4e0b\u8f7d\u94fe\u63a5\uff1a",(0,s.jsx)(n.a,{href:"https://www.vmware.com/products/desktop-hypervisor.html",children:"https://www.vmware.com/products/desktop-hypervisor.html"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"1\u914d\u7f6esdk\u73af\u5883",children:"1.\u914d\u7f6eSDK\u73af\u5883"}),"\n",(0,s.jsx)(n.h3,{id:"21-\u66f4\u65b0\u6e05\u534e\u6e90",children:"2.1 \u66f4\u65b0\u6e05\u534e\u6e90"}),"\n",(0,s.jsxs)(n.p,{children:["\u4f7f\u7528",(0,s.jsx)(n.code,{children:"Software & Updates"}),"\u8f6f\u4ef6\u53bb\u4fee\u6539\u955c\u50cf\u6e90\uff0c\u5efa\u8bae\u4fee\u6539\u4e3a\u56fd\u5185\u955c\u50cf\u6e90\uff01"]}),"\n",(0,s.jsx)(n.h3,{id:"22-\u4f7f\u7528apt\u5b89\u88c5\u8f6f\u4ef6\u5305",children:"2.2 \u4f7f\u7528apt\u5b89\u88c5\u8f6f\u4ef6\u5305"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo apt-get install -y --fix-broken --fix-missing --no-install-recommends \\\n  sudo vim wget curl git git-lfs openssh-client net-tools sed tzdata expect mtd-utils inetutils-ping locales \\\n  sed make binutils build-essential diffutils gcc g++ bash patch gzip bzip2 perl tar cpio unzip rsync file bc findutils \\\n  dosfstools mtools bison flex autoconf automake \\\n  libc6-dev-i386 libncurses5:i386 libssl-dev \\\n  python3 python3-pip python-is-python3 \\\n  lib32z1 scons libncurses5-dev \\\n  kmod fakeroot pigz tree doxygen gawk pkg-config libyaml-dev libconfuse2 libconfuse-dev\n"})}),"\n",(0,s.jsx)(n.h3,{id:"23-\u4fee\u6539pip\u4e3a\u6e05\u534e\u6e90",children:"2.3 \u4fee\u6539pip\u4e3a\u6e05\u534e\u6e90"}),"\n",(0,s.jsxs)(n.p,{children:["\u7f16\u8f91 ",(0,s.jsx)(n.code,{children:"pip"})," \u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u8bbe\u7f6e\u5168\u5c40\u7684 ",(0,s.jsx)(n.code,{children:"pip"})," \u914d\u7f6e\u9009\u9879"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo vi /etc/pip.conf\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u4fee\u6539\u5185\u5bb9\u4e3a\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[global]\n\ntimeout = 60\n\nindex-url = https://pypi.tuna.tsinghua.edu.cn/simple\n\nextra-index-url = https://mirrors.aliyun.com/pypi/simple/ https://mirrors.cloud.tencent.com/pypi/simple\n"})}),"\n",(0,s.jsx)(n.h3,{id:"24-\u4f7f\u7528pip\u5b89\u88c5\u8f6f\u4ef6",children:"2.4 \u4f7f\u7528pip\u5b89\u88c5\u8f6f\u4ef6"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"python3 -m pip install -U pyyaml pycryptodome gmssl \\\n  numpy==1.19.5 protobuf==3.17.3 Pillow onnx==1.9.0 onnx-simplifier==0.3.6 onnxoptimizer==0.2.6 onnxruntime==1.8.0 cmake\n"})}),"\n",(0,s.jsx)(n.h3,{id:"25-\u5b89\u88c5\u5fae\u8f6f\u8f6f\u4ef6\u5305",children:"2.5 \u5b89\u88c5\u5fae\u8f6f\u8f6f\u4ef6\u5305"}),"\n",(0,s.jsxs)(n.p,{children:["1.\u4f7f\u7528wget\u4e0b\u8f7d\u4e00\u4e2a\u540d\u4e3a ",(0,s.jsx)(n.code,{children:"packages-microsoft-prod.deb"})," \u7684\u6587\u4ef6\uff0c\u5e76\u5c06\u5176\u4fdd\u5b58\u5230\u5f53\u524d\u76ee\u5f55\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"wget https://packages.microsoft.com/config/ubuntu/20.04/packages-microsoft-prod.deb -O packages-microsoft-prod.deb\n"})}),"\n",(0,s.jsxs)(n.p,{children:["2.\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"dpkg"})," \u5de5\u5177\u5b89\u88c5\u8f6f\u4ef6\u5305\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo dpkg -i packages-microsoft-prod.deb && rm packages-microsoft-prod.deb\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"\u66f4\u65b0\u8f6f\u4ef6\u6e90"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo apt-get update\n"})}),"\n",(0,s.jsx)(n.p,{children:"4.\u5b89\u88c5\u4e24\u4e2a\u8f6f\u4ef6\u5305.NET\u548c ICU\uff08\u56fd\u9645\u7ec4\u4ef6\uff09\u7684\u5f00\u53d1\u5e93"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo apt-get install -y dotnet-runtime-7.0 libicu-dev\n"})}),"\n",(0,s.jsx)(n.h3,{id:"26-\u5b89\u88c5\u78c1\u76d8\u955c\u50cf\u5de5\u5177",children:"2.6 \u5b89\u88c5\u78c1\u76d8\u955c\u50cf\u5de5\u5177"}),"\n",(0,s.jsx)(n.p,{children:"1.\u521b\u5efa\u4e34\u65f6\u6587\u4ef6\u5939"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"mkdir tmp\n"})}),"\n",(0,s.jsx)(n.p,{children:"2.\u83b7\u53d6\u78c1\u76d8\u955c\u50cf\u5de5\u5177\u5b89\u88c5\u5305"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"wget https://github.com/pengutronix/genimage/releases/download/v16/genimage-16.tar.xz -O ./tmp/genimage-16.tar.xz\n"})}),"\n",(0,s.jsx)(n.p,{children:"3.\u8fdb\u5165\u4e34\u65f6\u6587\u4ef6\u5939"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"cd tmp/\n"})}),"\n",(0,s.jsx)(n.p,{children:"4.\u89e3\u538b\u5b89\u88c5\u538b\u7f29\u5305"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"tar -xf genimage-16.tar.xz\n"})}),"\n",(0,s.jsx)(n.p,{children:"5.\u8fdb\u5165\u5de5\u5177\u6e90\u7801\u76ee\u5f55"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"cd genimage-16\n"})}),"\n",(0,s.jsx)(n.p,{children:"5.\u7f16\u8bd1\u6e90\u7801"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"./configure \\\n    && make -j \\\n"})}),"\n",(0,s.jsx)(n.p,{children:"6.\u5b89\u88c5\u7a0b\u5e8f"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo make install\n"})}),"\n",(0,s.jsx)(n.h3,{id:"27-\u6e05\u7406\u7f13\u5b58",children:"2.7 \u6e05\u7406\u7f13\u5b58"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo rm -rf /var/lib/apt/lists/*\n"})}),"\n",(0,s.jsx)(n.h3,{id:"28-\u8bbe\u7f6e\u7cfb\u7edf\u9ed8\u8ba4\u8bed\u8a00\u548c\u5b57\u7b26\u7f16\u7801",children:"2.8 \u8bbe\u7f6e\u7cfb\u7edf\u9ed8\u8ba4\u8bed\u8a00\u548c\u5b57\u7b26\u7f16\u7801"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo localedef -i en_US -c -f UTF-8 -A /usr/share/locale/locale.alias en_US.UTF-8\n"})}),"\n",(0,s.jsx)(n.h3,{id:"29-\u521b\u5efa\u5de5\u5177\u94fe\u8def\u5f84",children:"2.9 \u521b\u5efa\u5de5\u5177\u94fe\u8def\u5f84"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo mkdir -p /opt/toolchain/\n"})}),"\n",(0,s.jsx)(n.h2,{id:"2\u4e0b\u8f7dsdk",children:"2.\u4e0b\u8f7dSDK"}),"\n",(0,s.jsx)(n.p,{children:"Github:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"git clone https://github.com/kendryte/k230_sdk\n"})}),"\n",(0,s.jsx)(n.p,{children:"Gitee:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"git clone https://gitee.com/kendryte/k230_sdk.git\n"})}),"\n",(0,s.jsx)(n.h2,{id:"3\u7f16\u8bd1sdk",children:"3.\u7f16\u8bd1SDK"}),"\n",(0,s.jsx)(n.h3,{id:"31-\u8fdb\u5165sdk\u6839\u76ee\u5f55",children:"3.1 \u8fdb\u5165SDK\u6839\u76ee\u5f55"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"cd k230_sdk\n"})}),"\n",(0,s.jsx)(n.h3,{id:"32-\u4e0b\u8f7dtoolchain",children:"3.2 \u4e0b\u8f7dtoolchain"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"source tools/get_download_url.sh && make prepare_sourcecode\n"})}),"\n",(0,s.jsx)(n.h3,{id:"33-\u6302\u8f7d\u5de5\u5177\u94fe\u76ee\u5f55",children:"3.3 \u6302\u8f7d\u5de5\u5177\u94fe\u76ee\u5f55"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo mount --bind $(pwd)/toolchain /opt/toolchain\n"})}),"\n",(0,s.jsx)(n.h3,{id:"34-\u7f16\u8bd1sdk",children:"3.4 \u7f16\u8bd1SDK"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"make CONF=k230_canmv_dongshanpi_defconfig\n"})})]})}function p(e={}){const{wrapper:n}={...(0,d.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>c,a:()=>r});var s=i(7294);const d={},l=s.createContext(d);function r(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:r(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);